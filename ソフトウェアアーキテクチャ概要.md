# ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ ã‚¬ã‚¤ãƒ‰

## ğŸ“‹ ç›®æ¬¡

- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦](#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦)
- [ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [ãƒ˜ã‚­ã‚µã‚´ãƒŠãƒ«ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ãƒ˜ã‚­ã‚µã‚´ãƒŠãƒ«ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [å‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#å‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ãƒ¢ãƒãƒªã‚¹](#ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ãƒ¢ãƒãƒªã‚¹)
- [CQRS](#cqrs)
- [ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [æ¯”è¼ƒè¡¨](#æ¯”è¼ƒè¡¨)
- [é¸æŠã‚¬ã‚¤ãƒ‰](#é¸æŠã‚¬ã‚¤ãƒ‰)

---

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ã®æ§‹é€ ã‚’å®šç¾©ã—ã€ä¿å®ˆæ€§ãƒ»æ‹¡å¼µæ€§ãƒ»ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚ã®è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™ã€‚

### ãªãœã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒé‡è¦ã‹

- **ä¿å®ˆæ€§**: ã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´ãŒå®¹æ˜“ã«ãªã‚‹
- **æ‹¡å¼µæ€§**: æ–°æ©Ÿèƒ½ã®è¿½åŠ ãŒã—ã‚„ã™ã„
- **ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§**: ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆãŒæ›¸ãã‚„ã™ã„
- **ç†è§£ã—ã‚„ã™ã•**: ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ãŒç†è§£ã—ã‚„ã™ã„
- **æŠ€è¡“çš„è² å‚µã®å‰Šæ¸›**: é•·æœŸçš„ãªé–‹ç™ºã‚³ã‚¹ãƒˆã‚’å‰Šæ¸›

---

## ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### æ¦‚è¦

ã‚·ã‚¹ãƒ†ãƒ ã‚’æ°´å¹³æ–¹å‘ã«å±¤ï¼ˆãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼‰ã§åˆ†å‰²ã™ã‚‹æœ€ã‚‚ä¼çµ±çš„ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Presentation Layer (UI)       â”‚  â† ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Business Logic Layer          â”‚  â† ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Data Access Layer             â”‚  â† ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Database                      â”‚  â† ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…¸å‹çš„ãªæ§‹æˆ

#### 3å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
UIå±¤ (Presentation)
 â†“
Businesså±¤ (Business Logic)
 â†“
Dataå±¤ (Data Access)
```

#### å®Ÿè£…ä¾‹

```vb
' Presentation Layer
Public Class ProductController
    Private _service As IProductService
    
    Public Function GetProducts() As List(Of ProductDto)
        Return _service.GetAllProducts()
    End Function
End Class

' Business Layer
Public Class ProductService
    Implements IProductService
    
    Private _repository As IProductRepository
    
    Public Function GetAllProducts() As List(Of ProductDto)
        Dim products = _repository.GetAll()
        ' ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯é©ç”¨
        Return products.Select(Function(p) MapToDto(p)).ToList()
    End Function
End Class

' Data Access Layer
Public Class ProductRepository
    Implements IProductRepository
    
    Public Function GetAll() As List(Of Product)
        ' ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹
    End Function
End Class
```

### âœ… ãƒ¡ãƒªãƒƒãƒˆ

| ãƒ¡ãƒªãƒƒãƒˆ | èª¬æ˜ |
|---------|------|
| **ã‚·ãƒ³ãƒ—ãƒ«** | ç†è§£ã—ã‚„ã™ãã€å­¦ç¿’ã‚³ã‚¹ãƒˆãŒä½ã„ |
| **æ¨™æº–çš„** | å¤šãã®é–‹ç™ºè€…ãŒçŸ¥ã£ã¦ã„ã‚‹ |
| **æ˜ç¢ºãªè²¬å‹™åˆ†é›¢** | å„å±¤ã®å½¹å‰²ãŒæ˜ç¢º |
| **ãƒ„ãƒ¼ãƒ«ã‚µãƒãƒ¼ãƒˆ** | Visual Studioãªã©ã€å¤šãã®IDEãŒã‚µãƒãƒ¼ãƒˆ |
| **å°ã€œä¸­è¦æ¨¡ã«æœ€é©** | 20ã€œ100ç”»é¢ç¨‹åº¦ã®ã‚¢ãƒ—ãƒªã«é©ã—ã¦ã„ã‚‹ |

### âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ

| ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ | èª¬æ˜ |
|----------|------|
| **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¸­å¿ƒè¨­è¨ˆ** | DBã‚¹ã‚­ãƒ¼ãƒãŒã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’æ”¯é…ã—ãŒã¡ |
| **å±¤é–“ã®ä¾å­˜** | ä¸Šä½å±¤ãŒä¸‹ä½å±¤ã«ä¾å­˜ï¼ˆå¯†çµåˆï¼‰ |
| **å¤‰æ›´ã®æ³¢åŠ** | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å¤‰æ›´ãŒå…¨å±¤ã«å½±éŸ¿ |
| **ãƒ†ã‚¹ãƒˆã®å›°é›£ã•** | ä¸‹ä½å±¤ã®ãƒ¢ãƒƒã‚¯ãŒå¿…è¦ |
| **ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã®æ•£åœ¨** | è¤‡é›‘ã«ãªã‚‹ã¨ãƒ­ã‚¸ãƒƒã‚¯ãŒå„å±¤ã«åˆ†æ•£ |

### ğŸ“Š æ¡ç”¨ã™ã¹ãã‚±ãƒ¼ã‚¹

- âœ… **CRUDä¸­å¿ƒã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³**
- âœ… **å°ã€œä¸­è¦æ¨¡ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**ï¼ˆ1-10äººã€2-6ãƒ¶æœˆï¼‰
- âœ… **ãƒãƒ¼ãƒ ã®ã‚¹ã‚­ãƒ«ãƒ¬ãƒ™ãƒ«ãŒåˆç´šã€œä¸­ç´š**
- âœ… **çŸ­æœŸé–“ã§ãƒªãƒªãƒ¼ã‚¹ãŒå¿…è¦**
- âœ… **æ—¢å­˜ã®ãƒ¬ã‚¬ã‚·ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã®ç½®ãæ›ãˆ**

### ğŸ”¥ ç¾åœ¨ã®ãƒˆãƒ¬ãƒ³ãƒ‰

**äººæ°—åº¦**: â­â­â­â­â˜† (ä¾ç„¶ã¨ã—ã¦åºƒãä½¿ã‚ã‚Œã¦ã„ã‚‹)

- ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ¨™æº–
- .NETã€Javaã€Pythonã®å®šç•ªæ§‹æˆ
- ãŸã ã—ã€ã‚ˆã‚Šé«˜åº¦ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã¸ã®ç§»è¡Œã‚‚å¢—åŠ ä¸­

---

## ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### æ¦‚è¦

Robert C. Martin (Uncle Bob) ãŒæå”±ã€‚**ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’ä¸­å¿ƒ**ã«ç½®ãã€å¤–éƒ¨ä¾å­˜ã‚’æ’é™¤ã™ã‚‹è¨­è¨ˆã€‚

```
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   UI / Web / External    â”‚  â† å¤–å´
          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
          â”‚   Controllers / Presentersâ”‚
          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
          â”‚   Use Cases (Application) â”‚
          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
          â”‚   Entities (Domain)      â”‚  â† ä¸­å¿ƒ
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          
   ä¾å­˜ã®æ–¹å‘: å¤–å´ â†’ å†…å´ï¼ˆä¾å­˜æ€§é€†è»¢ã®åŸå‰‡ï¼‰
```

### ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹æˆ

#### 1. Entities (Domain Layer)

- **æœ€ã‚‚å†…å´**ã®ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«
- å¤–éƒ¨ã¸ã®ä¾å­˜ã‚¼ãƒ­
- ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ

```vb
' Domain Layer - ç´”ç²‹ãªãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
Public Class Order
    Private _items As List(Of OrderItem)
    
    Public Function CalculateTotal() As Decimal
        Return _items.Sum(Function(item) item.GetSubtotal())
    End Function
    
    Public Sub AddItem(product As Product, quantity As Integer)
        If quantity <= 0 Then
            Throw New DomainException("æ•°é‡ã¯1ä»¥ä¸Šã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™")
        End If
        
        _items.Add(New OrderItem(product, quantity))
    End Sub
End Class
```

#### 2. Use Cases (Application Layer)

- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å›ºæœ‰ã®ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«
- ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®å®Ÿè£…

```vb
' Application Layer - ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹
Public Class CreateOrderUseCase
    Private _orderRepository As IOrderRepository
    Private _productRepository As IProductRepository
    
    Public Function Execute(request As CreateOrderRequest) As CreateOrderResponse
        ' 1. å•†å“ã‚’å–å¾—
        Dim product = _productRepository.GetById(request.ProductId)
        
        ' 2. æ³¨æ–‡ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’ä½œæˆï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ï¼‰
        Dim order As New Order()
        order.AddItem(product, request.Quantity)
        
        ' 3. æ°¸ç¶šåŒ–
        _orderRepository.Save(order)
        
        Return New CreateOrderResponse With {.OrderId = order.Id}
    End Function
End Class
```

#### 3. Interface Adapters

- ãƒ‡ãƒ¼ã‚¿å¤‰æ›å±¤
- Controllersã€Presentersã€Gateways

```vb
' Interface Adapter - Controller
Public Class OrderController
    Private _createOrderUseCase As CreateOrderUseCase
    
    Public Function CreateOrder(dto As OrderDto) As ActionResult
        ' DTOã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¤‰æ›
        Dim request As New CreateOrderRequest With {
            .ProductId = dto.ProductId,
            .Quantity = dto.Quantity
        }
        
        ' ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å®Ÿè¡Œ
        Dim response = _createOrderUseCase.Execute(request)
        
        Return Ok(response)
    End Function
End Class
```

#### 4. Frameworks & Drivers

- æœ€ã‚‚å¤–å´ï¼ˆDBã€UIã€Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼‰

### âœ… ãƒ¡ãƒªãƒƒãƒˆ

| ãƒ¡ãƒªãƒƒãƒˆ | èª¬æ˜ |
|---------|------|
| **ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã®ç‹¬ç«‹æ€§** | å¤–éƒ¨æŠ€è¡“ã‹ã‚‰å®Œå…¨ã«ç‹¬ç«‹ |
| **ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£** | ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ã‚’ç°¡å˜ã«ãƒ†ã‚¹ãƒˆã§ãã‚‹ |
| **æŠ€è¡“ã®ç½®ãæ›ãˆå¯èƒ½æ€§** | DBã‚„UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’å¤‰æ›´ã—ã‚„ã™ã„ |
| **ä¾å­˜æ€§é€†è»¢** | å®‰å®šã—ãŸæ–¹å‘ã¸ã®ä¾å­˜ |
| **é•·æœŸä¿å®ˆæ€§** | ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ãŒæ˜ç¢ºã§ä¿å®ˆã—ã‚„ã™ã„ |

### âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ

| ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ | èª¬æ˜ |
|----------|------|
| **å­¦ç¿’ã‚³ã‚¹ãƒˆãŒé«˜ã„** | ç†è§£ã«æ™‚é–“ãŒã‹ã‹ã‚‹ |
| **åˆæœŸã‚³ã‚¹ãƒˆå¢—** | å¤šãã®ã‚¯ãƒ©ã‚¹ãƒ»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒå¿…è¦ |
| **éå‰°è¨­è¨ˆã®ãƒªã‚¹ã‚¯** | ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¢ãƒ—ãƒªã«ã¯é‡ã™ãã‚‹ |
| **ãƒãƒƒãƒ”ãƒ³ã‚°å‡¦ç†ã®å¢—åŠ ** | å±¤é–“ã®ãƒ‡ãƒ¼ã‚¿å¤‰æ›ãŒç…©é›‘ |
| **ãƒãƒ¼ãƒ å…¨ä½“ã®ç†è§£ãŒå¿…è¦** | ä¸€éƒ¨ã®ãƒ¡ãƒ³ãƒãƒ¼ã ã‘ã§ã¯ç ´ç¶»ã—ã‚„ã™ã„ |

### ğŸ“Š æ¡ç”¨ã™ã¹ãã‚±ãƒ¼ã‚¹

- âœ… **è¤‡é›‘ãªãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ãŒã‚ã‚‹**
- âœ… **é•·æœŸé‹ç”¨ãŒå‰æ**ï¼ˆ5å¹´ä»¥ä¸Šï¼‰
- âœ… **å¤–éƒ¨æŠ€è¡“ã®å¤‰æ›´å¯èƒ½æ€§ãŒé«˜ã„**
- âœ… **ãƒãƒ¼ãƒ ãŒçµŒé¨“è±Šå¯Œ**
- âœ… **ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆï¼ˆDDDï¼‰ã‚’æ¡ç”¨**

### ğŸ”¥ ç¾åœ¨ã®ãƒˆãƒ¬ãƒ³ãƒ‰

**äººæ°—åº¦**: â­â­â­â­â­ (æ€¥ä¸Šæ˜‡ä¸­)

- ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºé–‹ç™ºã®æ–°æ¨™æº–
- .NETã€Javaã€Go ãªã©ã§åºƒãæ¡ç”¨
- ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®ç›¸æ€§ãŒè‰¯ã„
- 2020å¹´ä»¥é™ã€ä¼æ¥­ã§ã®æ¡ç”¨ãŒåŠ é€Ÿ

---

## ãƒ˜ã‚­ã‚µã‚´ãƒŠãƒ«ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### æ¦‚è¦

åˆ¥åã€Œ**ãƒãƒ¼ãƒˆ&ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼**ã€ã€‚Alistair Cockburn ãŒæå”±ã€‚
ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚³ã‚¢ï¼ˆå†…å´ï¼‰ã¨å¤–éƒ¨ä¸–ç•Œã®æ¥ç¶šéƒ¨åˆ†ï¼ˆãƒãƒ¼ãƒˆ&ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ï¼‰ã«åˆ†é›¢ã€‚

```
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”Œâ”€â”€â”€â”€â”€â”¤   REST API      â”‚â—„â”€â”€â”€â”€ Primary Adapter (å…¥åŠ›)
      â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”œâ”€â”€â”€â”€â”€â”¤   Web UI        â”‚â—„â”€â”€â”€â”€ Primary Adapter
      â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 â”‚
â”‚    Application Core (ãƒ‰ãƒ¡ã‚¤ãƒ³)   â”‚â—„â”€â”€â”€â”€ ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚         (Ports)                 â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”œâ”€â”€â”€â”€â–ºâ”‚   Database      â”‚â—„â”€â”€â”€â”€ Secondary Adapter (å‡ºåŠ›)
      â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â””â”€â”€â”€â”€â–ºâ”‚   Message Queue â”‚â—„â”€â”€â”€â”€ Secondary Adapter
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç”¨èªèª¬æ˜

| ç”¨èª | èª¬æ˜ |
|-----|------|
| **Portï¼ˆãƒãƒ¼ãƒˆï¼‰** | ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å…¥å‡ºåŠ›ç‚¹ï¼‰ |
| **Adapterï¼ˆã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ï¼‰** | å®Ÿè£…ï¼ˆå¤–éƒ¨æŠ€è¡“ã¨ã®æ¥ç¶šéƒ¨åˆ†ï¼‰ |
| **Primary Adapter** | ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é§†å‹•ã™ã‚‹å´ï¼ˆUIã€APIï¼‰ |
| **Secondary Adapter** | ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«é§†å‹•ã•ã‚Œã‚‹å´ï¼ˆDBã€å¤–éƒ¨APIï¼‰ |

### å®Ÿè£…ä¾‹

#### ãƒãƒ¼ãƒˆå®šç¾©ï¼ˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼‰

```vb
' Primary Portï¼ˆå…¥åŠ›ãƒãƒ¼ãƒˆï¼‰
Public Interface IOrderService
    Function CreateOrder(request As CreateOrderRequest) As OrderResult
    Function GetOrder(orderId As Integer) As OrderDto
End Interface

' Secondary Portï¼ˆå‡ºåŠ›ãƒãƒ¼ãƒˆï¼‰
Public Interface IOrderRepository
    Function Save(order As Order) As Boolean
    Function FindById(orderId As Integer) As Order
End Interface

Public Interface IPaymentGateway
    Function ProcessPayment(amount As Decimal, cardInfo As CardInfo) As PaymentResult
End Interface
```

#### ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼å®Ÿè£…

```vb
' Primary Adapter - REST API
Public Class OrderApiController
    Private _orderService As IOrderService
    
    <HttpPost>
    Public Function CreateOrder(dto As OrderDto) As IActionResult
        Dim request = MapToRequest(dto)
        Dim result = _orderService.CreateOrder(request)
        Return Ok(result)
    End Function
End Class

' Secondary Adapter - Database
Public Class SqlOrderRepository
    Implements IOrderRepository
    
    Public Function Save(order As Order) As Boolean Implements IOrderRepository.Save
        ' SQL Server ã¸ã®ä¿å­˜å‡¦ç†
    End Function
End Class

' Secondary Adapter - Payment Gateway
Public Class StripePaymentGateway
    Implements IPaymentGateway
    
    Public Function ProcessPayment(amount As Decimal, cardInfo As CardInfo) As PaymentResult _
        Implements IPaymentGateway.ProcessPayment
        ' Stripe API ã‚’å‘¼ã³å‡ºã—
    End Function
End Class
```

### âœ… ãƒ¡ãƒªãƒƒãƒˆ

| ãƒ¡ãƒªãƒƒãƒˆ | èª¬æ˜ |
|---------|------|
| **æŠ€è¡“çš„ç‹¬ç«‹æ€§** | DBã€UIã‚’ç°¡å˜ã«ç½®ãæ›ãˆå¯èƒ½ |
| **ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§** | ãƒ¢ãƒƒã‚¯ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã§ç°¡å˜ã«ãƒ†ã‚¹ãƒˆ |
| **ä¸¦è¡Œé–‹ç™º** | ãƒãƒ¼ãƒˆå®šç¾©å¾Œã€å„ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã‚’ä¸¦è¡Œé–‹ç™ºå¯èƒ½ |
| **æ˜ç¢ºãªå¢ƒç•Œ** | ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¨æŠ€è¡“ã®åˆ†é›¢ãŒæ˜ç¢º |
| **è¤‡æ•°ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å¯¾å¿œ** | RESTã€gRPCã€CLIãªã©è¤‡æ•°ã®å…¥åŠ›ã«å¯¾å¿œã—ã‚„ã™ã„ |

### âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ

| ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ | èª¬æ˜ |
|----------|------|
| **è¤‡é›‘æ€§** | å°è¦æ¨¡ã‚¢ãƒ—ãƒªã«ã¯éå‰° |
| **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹éå¤š** | ãƒãƒ¼ãƒˆå®šç¾©ãŒå¢—ãˆã‚‹ |
| **å­¦ç¿’æ›²ç·š** | æ¦‚å¿µã®ç†è§£ã«æ™‚é–“ãŒã‹ã‹ã‚‹ |
| **åˆæœŸã‚³ã‚¹ãƒˆ** | è¨­è¨ˆãƒ»å®Ÿè£…ã«æ™‚é–“ãŒã‹ã‹ã‚‹ |

### ğŸ“Š æ¡ç”¨ã™ã¹ãã‚±ãƒ¼ã‚¹

- âœ… **è¤‡æ•°ã®UIï¼ˆWebã€ãƒ¢ãƒã‚¤ãƒ«ã€CLIï¼‰ãŒå¿…è¦**
- âœ… **å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆãŒå¤šã„**
- âœ… **æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã®å¤‰æ›´å¯èƒ½æ€§ãŒã‚ã‚‹**
- âœ… **ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼ˆTDDï¼‰ã‚’é‡è¦–**
- âœ… **ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹æ§‹æˆ**

### ğŸ”¥ ç¾åœ¨ã®ãƒˆãƒ¬ãƒ³ãƒ‰

**äººæ°—åº¦**: â­â­â­â­â˜†

- ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ãƒ™ãƒ¼ã‚¹
- ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã§äººæ°—
- Goã€Rustã€Kotlinã§æ¡ç”¨å¢—åŠ 
- 2018å¹´é ƒã‹ã‚‰å†æ³¨ç›®

---

## å‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### æ¦‚è¦

**æ©Ÿèƒ½ã”ã¨ã«å‚ç›´ã«åˆ†å‰²**ã™ã‚‹æ¯”è¼ƒçš„æ–°ã—ã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã€‚
Jimmy Bogardï¼ˆMediatRé–‹ç™ºè€…ï¼‰ãŒæ¨é€²ã€‚

```
å¾“æ¥ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹é€ ï¼ˆæ°´å¹³ã‚¹ãƒ©ã‚¤ã‚¹ï¼‰:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          UI Layer                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          Business Layer                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          Data Layer                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Feature1â”‚Feature2â”‚Feature3â”‚Feature4â”‚
â”‚        â”‚        â”‚        â”‚        â”‚
â”‚  UI    â”‚  UI    â”‚  UI    â”‚  UI    â”‚
â”‚  â†“     â”‚  â†“     â”‚  â†“     â”‚  â†“     â”‚
â”‚Businessâ”‚Businessâ”‚Businessâ”‚Businessâ”‚
â”‚  â†“     â”‚  â†“     â”‚  â†“     â”‚  â†“     â”‚
â”‚  Data  â”‚  Data  â”‚  Data  â”‚  Data  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆä¾‹

```
src/
â”œâ”€ Features/
â”‚  â”œâ”€ Orders/
â”‚  â”‚  â”œâ”€ CreateOrder/
â”‚  â”‚  â”‚  â”œâ”€ CreateOrderCommand.vb
â”‚  â”‚  â”‚  â”œâ”€ CreateOrderHandler.vb
â”‚  â”‚  â”‚  â”œâ”€ CreateOrderValidator.vb
â”‚  â”‚  â”‚  â””â”€ CreateOrderView.vb
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ GetOrderDetails/
â”‚  â”‚  â”‚  â”œâ”€ GetOrderDetailsQuery.vb
â”‚  â”‚  â”‚  â”œâ”€ GetOrderDetailsHandler.vb
â”‚  â”‚  â”‚  â””â”€ OrderDetailsView.vb
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ UpdateOrder/
â”‚  â”‚     â”œâ”€ UpdateOrderCommand.vb
â”‚  â”‚     â””â”€ UpdateOrderHandler.vb
â”‚  â”‚
â”‚  â””â”€ Products/
â”‚     â”œâ”€ ListProducts/
â”‚     â””â”€ CreateProduct/
â”‚
â””â”€ Shared/
   â”œâ”€ Database/
   â””â”€ Common/
```

### å®Ÿè£…ä¾‹ï¼ˆMediatRãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰

```vb
' Feature: Create Order

' Commandï¼ˆãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼‰
Public Class CreateOrderCommand
    Implements IRequest(Of CreateOrderResult)
    
    Public Property ProductId As Integer
    Public Property Quantity As Integer
    Public Property CustomerId As Integer
End Class

' Handlerï¼ˆå‡¦ç†ï¼‰
Public Class CreateOrderHandler
    Implements IRequestHandler(Of CreateOrderCommand, CreateOrderResult)
    
    Private _context As AppDbContext
    Private _validator As CreateOrderValidator
    
    Public Async Function Handle(request As CreateOrderCommand, 
                                 cancellationToken As CancellationToken) _
        As Task(Of CreateOrderResult) _
        Implements IRequestHandler(Of CreateOrderCommand, CreateOrderResult).Handle
        
        ' 1. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
        Dim validationResult = Await _validator.ValidateAsync(request)
        If Not validationResult.IsValid Then
            Return CreateOrderResult.Failed(validationResult.Errors)
        End If
        
        ' 2. ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
        Dim order As New Order With {
            .ProductId = request.ProductId,
            .Quantity = request.Quantity,
            .CustomerId = request.CustomerId,
            .OrderDate = DateTime.Now
        }
        
        ' 3. ãƒ‡ãƒ¼ã‚¿ä¿å­˜
        _context.Orders.Add(order)
        Await _context.SaveChangesAsync(cancellationToken)
        
        Return CreateOrderResult.Success(order.Id)
    End Function
End Class

' Validator
Public Class CreateOrderValidator
    Inherits AbstractValidator(Of CreateOrderCommand)
    
    Public Sub New()
        RuleFor(Function(x) x.Quantity).GreaterThan(0)
        RuleFor(Function(x) x.ProductId).GreaterThan(0)
    End Sub
End Class
```

### âœ… ãƒ¡ãƒªãƒƒãƒˆ

| ãƒ¡ãƒªãƒƒãƒˆ | èª¬æ˜ |
|---------|------|
| **é«˜å‡é›†ãƒ»ä½çµåˆ** | æ©Ÿèƒ½ã”ã¨ã«å®Œçµã€ä»–æ©Ÿèƒ½ã¨ã®çµåˆãŒå°‘ãªã„ |
| **å¤‰æ›´å½±éŸ¿ã®å±€æ‰€åŒ–** | 1æ©Ÿèƒ½ã®å¤‰æ›´ãŒä»–ã«å½±éŸ¿ã—ã«ãã„ |
| **ä¸¦è¡Œé–‹ç™ºã—ã‚„ã™ã„** | æ©Ÿèƒ½ã”ã¨ã«æ‹…å½“ã‚’åˆ†ã‘ã‚„ã™ã„ |
| **å‰Šé™¤ãŒå®¹æ˜“** | ä¸è¦ãªæ©Ÿèƒ½ã‚’ãƒ•ã‚©ãƒ«ãƒ€ã”ã¨å‰Šé™¤ |
| **æ–°è¦å‚ç”»è€…ã®ç†è§£ãŒæ—©ã„** | æ©Ÿèƒ½å˜ä½ã§å­¦ç¿’ã§ãã‚‹ |
| **Screaming Architecture** | ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã§ã€Œä½•ã‚’ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‹ã€ãŒåˆ†ã‹ã‚‹ |

### âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ

| ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ | èª¬æ˜ |
|----------|------|
| **ã‚³ãƒ¼ãƒ‰é‡è¤‡ã®ãƒªã‚¹ã‚¯** | æ©Ÿèƒ½é–“ã§ä¼¼ãŸã‚³ãƒ¼ãƒ‰ãŒé‡è¤‡ã—ãŒã¡ |
| **å…±é€šå‡¦ç†ã®ç®¡ç†** | ã©ã“ã¾ã§å…±é€šåŒ–ã™ã¹ãã‹åˆ¤æ–­ãŒé›£ã—ã„ |
| **ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ†é›¢ãŒæ›–æ˜§** | ãƒ«ãƒ¼ãƒ«ãŒãªã„ã¨æ³¥å›£å­åŒ– |
| **éåº¦ãªåˆ†å‰²** | ç´°ã‹ã™ãã‚‹ã¨ç®¡ç†ãŒç…©é›‘ |

### ğŸ“Š æ¡ç”¨ã™ã¹ãã‚±ãƒ¼ã‚¹

- âœ… **æ©Ÿèƒ½è¿½åŠ ãƒ»å‰Šé™¤ãŒé »ç¹**
- âœ… **è¤‡æ•°ãƒãƒ¼ãƒ ã§ã®ä¸¦è¡Œé–‹ç™º**
- âœ… **ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã¸ã®ç§»è¡Œã‚’æ¤œè¨**
- âœ… **CQRSãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã®çµ„ã¿åˆã‚ã›**
- âœ… **ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«é–‹ç™º**

### ğŸ”¥ ç¾åœ¨ã®ãƒˆãƒ¬ãƒ³ãƒ‰

**äººæ°—åº¦**: â­â­â­â­â­ (æ€¥ä¸Šæ˜‡ä¸­ï¼)

- **2020å¹´ä»¥é™ã€æ€¥é€Ÿã«äººæ°—ä¸Šæ˜‡**
- .NET ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§ç‰¹ã«äººæ°—ï¼ˆMediatRä½¿ç”¨ï¼‰
- Next.js ã® App Router ã‚‚å‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹çš„
- ãƒ¢ãƒ€ãƒ³ãªSaaSã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§æ¡ç”¨å¢—

---

## ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### æ¦‚è¦

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’**å°ã•ãç‹¬ç«‹ã—ãŸã‚µãƒ¼ãƒ“ã‚¹ç¾¤**ã«åˆ†å‰²ã—ã€ãã‚Œãã‚Œã‚’ç‹¬ç«‹ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»ã‚¹ã‚±ãƒ¼ãƒ«ã™ã‚‹ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User        â”‚   â”‚  Product     â”‚   â”‚  Order       â”‚
â”‚  Service     â”‚   â”‚  Service     â”‚   â”‚  Service     â”‚
â”‚              â”‚   â”‚              â”‚   â”‚              â”‚
â”‚  - REST API  â”‚   â”‚  - REST API  â”‚   â”‚  - REST API  â”‚
â”‚  - Database  â”‚   â”‚  - Database  â”‚   â”‚  - Database  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                  â”‚                   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  API Gateway  â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                     [ Client ]
```

### ç‰¹å¾´

| ç‰¹å¾´ | èª¬æ˜ |
|-----|------|
| **ç‹¬ç«‹ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹** | å„ã‚µãƒ¼ãƒ“ã‚¹ãŒå°‚ç”¨DBã‚’æŒã¤ |
| **ç‹¬ç«‹ãƒ‡ãƒ—ãƒ­ã‚¤** | ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«å€‹åˆ¥ã«ãƒªãƒªãƒ¼ã‚¹å¯èƒ½ |
| **æŠ€è¡“ã®å¤šæ§˜æ€§** | ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«ç•°ãªã‚‹è¨€èªãƒ»ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å¯ |
| **ãƒãƒ¼ãƒ ç‹¬ç«‹æ€§** | ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«ãƒãƒ¼ãƒ ã‚’å‰²ã‚Šå½“ã¦ |

### å®Ÿè£…ä¾‹

```vb
' Order Service
Public Class OrderController
    <HttpPost>
    Public Async Function CreateOrder(dto As CreateOrderDto) As Task(Of IActionResult)
        ' 1. Product Service ã‹ã‚‰å•†å“æƒ…å ±å–å¾—ï¼ˆHTTPé€šä¿¡ï¼‰
        Dim product = Await _productServiceClient.GetProduct(dto.ProductId)
        
        ' 2. åœ¨åº«ç¢ºèª
        If product.Stock < dto.Quantity Then
            Return BadRequest("åœ¨åº«ä¸è¶³")
        End If
        
        ' 3. Order Service ã®DBã«ä¿å­˜
        Dim order = CreateOrderEntity(dto, product)
        Await _orderRepository.SaveAsync(order)
        
        ' 4. ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œï¼ˆéåŒæœŸå‡¦ç†ï¼‰
        Await _eventBus.PublishAsync(New OrderCreatedEvent With {
            .OrderId = order.Id,
            .ProductId = product.Id,
            .Quantity = dto.Quantity
        })
        
        Return Ok(order)
    End Function
End Class

' Product Serviceï¼ˆåˆ¥ã®ã‚µãƒ¼ãƒ“ã‚¹ï¼‰
Public Class ProductController
    <HttpGet("{id}")>
    Public Async Function GetProduct(id As Integer) As Task(Of IActionResult)
        Dim product = Await _productRepository.GetByIdAsync(id)
        Return Ok(product)
    End Function
End Class

' Inventory Serviceï¼ˆã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ï¼‰
Public Class OrderCreatedEventHandler
    Implements IEventHandler(Of OrderCreatedEvent)
    
    Public Async Function Handle(event As OrderCreatedEvent) As Task
        ' åœ¨åº«ã‚’æ¸›ã‚‰ã™
        Await _inventoryService.DecreaseStock(event.ProductId, event.Quantity)
    End Function
End Class
```

### âœ… ãƒ¡ãƒªãƒƒãƒˆ

| ãƒ¡ãƒªãƒƒãƒˆ | èª¬æ˜ |
|---------|------|
| **ç‹¬ç«‹ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°** | è² è·ã®é«˜ã„ã‚µãƒ¼ãƒ“ã‚¹ã ã‘ã‚¹ã‚±ãƒ¼ãƒ«å¯èƒ½ |
| **æŠ€è¡“ã®æŸ”è»Ÿæ€§** | ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«æœ€é©ãªæŠ€è¡“ã‚’é¸æŠ |
| **éšœå®³ã®å±€æ‰€åŒ–** | 1ã‚µãƒ¼ãƒ“ã‚¹ã®éšœå®³ãŒå…¨ä½“ã«æ³¢åŠã—ã«ãã„ |
| **ç‹¬ç«‹ãƒ‡ãƒ—ãƒ­ã‚¤** | ã‚µãƒ¼ãƒ“ã‚¹ã”ã¨ã«å€‹åˆ¥ãƒªãƒªãƒ¼ã‚¹ |
| **ãƒãƒ¼ãƒ ã®ç‹¬ç«‹æ€§** | å°è¦æ¨¡ãƒãƒ¼ãƒ ã§å®Œçµ |
| **æ®µéšçš„ãƒªãƒ—ãƒ¬ãƒ¼ã‚¹** | ãƒ¬ã‚¬ã‚·ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰å¾ã€…ã«ç§»è¡Œå¯èƒ½ |

### âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ

| ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ | èª¬æ˜ |
|----------|------|
| **è¤‡é›‘æ€§ã®å¢—å¤§** | åˆ†æ•£ã‚·ã‚¹ãƒ†ãƒ ã®ç®¡ç†ãŒè¤‡é›‘ |
| **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é…å»¶** | ã‚µãƒ¼ãƒ“ã‚¹é–“é€šä¿¡ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ |
| **ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§** | åˆ†æ•£ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®é›£ã—ã• |
| **é‹ç”¨ã‚³ã‚¹ãƒˆ** | ç›£è¦–ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã€ãƒ­ã‚°ç®¡ç†ãŒè¤‡é›‘ |
| **ãƒ†ã‚¹ãƒˆã®å›°é›£ã•** | çµ±åˆãƒ†ã‚¹ãƒˆãŒé›£ã—ã„ |
| **åˆæœŸã‚³ã‚¹ãƒˆ** | ã‚¤ãƒ³ãƒ•ãƒ©æ•´å‚™ã«æ™‚é–“ã¨ã‚³ã‚¹ãƒˆãŒã‹ã‹ã‚‹ |

### ğŸ“Š æ¡ç”¨ã™ã¹ãã‚±ãƒ¼ã‚¹

- âœ… **å¤§è¦æ¨¡ã‚·ã‚¹ãƒ†ãƒ **ï¼ˆ100äººæœˆä»¥ä¸Šï¼‰
- âœ… **ç•°ãªã‚‹è² è·ç‰¹æ€§ã‚’æŒã¤æ©Ÿèƒ½ãŒã‚ã‚‹**
- âœ… **è¤‡æ•°ãƒãƒ¼ãƒ ã§ã®é–‹ç™º**ï¼ˆå„ãƒãƒ¼ãƒ 5-10äººï¼‰
- âœ… **æ®µéšçš„ãƒªãƒªãƒ¼ã‚¹ãŒå¿…è¦**
- âœ… **ã‚¯ãƒ©ã‚¦ãƒ‰ãƒã‚¤ãƒ†ã‚£ãƒ–ãªã‚¤ãƒ³ãƒ•ãƒ©**ï¼ˆKubernetesç­‰ï¼‰
- âœ… **é«˜å¯ç”¨æ€§ãŒå¿…è¦**

### ğŸ”¥ ç¾åœ¨ã®ãƒˆãƒ¬ãƒ³ãƒ‰

**äººæ°—åº¦**: â­â­â­â­â˜† (æˆç†ŸæœŸ)

- **2015-2020å¹´ãŒãƒ”ãƒ¼ã‚¯ã€ç¾åœ¨ã¯æˆç†ŸæœŸ**
- Netflixã€Amazonã€Uberãªã©ãŒæˆåŠŸäº‹ä¾‹
- éåº¦ãªãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹åŒ–ã®åçœã‚‚
- ã€Œãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ãŒä¸‡èƒ½ã§ã¯ãªã„ã€ã¨ã„ã†èªè­˜ãŒåºƒãŒã‚‹
- **ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ãƒ¢ãƒãƒªã‚¹**ã¸ã®å›å¸°ã®å‹•ãã‚‚

### âš ï¸ æ³¨æ„ç‚¹

> **ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã¯ã‚´ãƒ¼ãƒ«ã§ã¯ãªãæ‰‹æ®µ**
> 
> - å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯å‘ã‹ãªã„
> - ã¾ãšãƒ¢ãƒãƒªã‚¹ã‹ã‚‰å§‹ã‚ã€å¿…è¦ã«å¿œã˜ã¦åˆ†å‰²
> - DevOpsä½“åˆ¶ãŒæ•´ã£ã¦ã„ã‚‹ã“ã¨ãŒå‰æ

---

## ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ãƒ¢ãƒãƒªã‚¹

### æ¦‚è¦

**å˜ä¸€ã®ãƒ‡ãƒ—ãƒ­ã‚¤å˜ä½ï¼ˆãƒ¢ãƒãƒªã‚¹ï¼‰**ã§ã‚ã‚ŠãªãŒã‚‰ã€**å†…éƒ¨ã¯ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ†å‰²**ã•ã‚Œã¦ã„ã‚‹è¨­è¨ˆã€‚
ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã¨ãƒ¢ãƒãƒªã‚·ãƒƒã‚¯ã®è‰¯ã„ã¨ã“å–ã‚Šã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Modular Monolith Application          â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Order   â”‚  â”‚ Product  â”‚  â”‚   User   â”‚    â”‚
â”‚  â”‚  Module  â”‚  â”‚  Module  â”‚  â”‚  Module  â”‚    â”‚
â”‚  â”‚          â”‚  â”‚          â”‚  â”‚          â”‚    â”‚
â”‚  â”‚ - Domain â”‚  â”‚ - Domain â”‚  â”‚ - Domain â”‚    â”‚
â”‚  â”‚ - API    â”‚  â”‚ - API    â”‚  â”‚ - API    â”‚    â”‚
â”‚  â”‚ - Data   â”‚  â”‚ - Data   â”‚  â”‚ - Data   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚       â”‚             â”‚              â”‚          â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                     â”‚                         â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚           â”‚  Shared Kernel  â”‚                 â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                     â”‚                         â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚           â”‚    Database     â”‚                 â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®Ÿè£…ä¾‹

```
MyApp/
â”œâ”€ Modules/
â”‚  â”œâ”€ Orders/
â”‚  â”‚  â”œâ”€ Domain/
â”‚  â”‚  â”‚  â””â”€ Order.vb
â”‚  â”‚  â”œâ”€ Application/
â”‚  â”‚  â”‚  â”œâ”€ IOrderService.vb
â”‚  â”‚  â”‚  â””â”€ OrderService.vb
â”‚  â”‚  â”œâ”€ Infrastructure/
â”‚  â”‚  â”‚  â””â”€ OrderRepository.vb
â”‚  â”‚  â””â”€ API/
â”‚  â”‚     â””â”€ OrderController.vb
â”‚  â”‚
â”‚  â”œâ”€ Products/
â”‚  â”‚  â”œâ”€ Domain/
â”‚  â”‚  â”œâ”€ Application/
â”‚  â”‚  â”œâ”€ Infrastructure/
â”‚  â”‚  â””â”€ API/
â”‚  â”‚
â”‚  â””â”€ Users/
â”‚     â””â”€ ...
â”‚
â”œâ”€ Shared/
â”‚  â”œâ”€ Common/
â”‚  â””â”€ Infrastructure/
â”‚
â””â”€ Program.vb
```

### ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é–“é€šä¿¡ã®ãƒ«ãƒ¼ãƒ«

```vb
' âŒ NG: ç›´æ¥å‚ç…§
Public Class OrderService
    Private _productRepository As ProductRepository  ' ä»–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å®Ÿè£…ã«ç›´æ¥ä¾å­˜
    
    Public Function CreateOrder() As Order
        Dim product = _productRepository.GetById(1)  ' NG!
    End Function
End Class

' âœ… OK: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹çµŒç”±
Public Class OrderService
    Private _productFacade As IProductFacade  ' ä»–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å…¬é–‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
    
    Public Function CreateOrder() As Order
        Dim product = _productFacade.GetProductInfo(1)  ' OK!
    End Function
End Class

' Product Module ãŒå…¬é–‹ã™ã‚‹ãƒ•ã‚¡ã‚µãƒ¼ãƒ‰
Public Interface IProductFacade
    Function GetProductInfo(productId As Integer) As ProductInfo
End Interface
```

### âœ… ãƒ¡ãƒªãƒƒãƒˆ

| ãƒ¡ãƒªãƒƒãƒˆ | èª¬æ˜ |
|---------|------|
| **ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ‡ãƒ—ãƒ­ã‚¤** | 1ã¤ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦é…ç½® |
| **ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§** | ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ãŒä½¿ãˆã‚‹ |
| **ä½ã„é‹ç”¨ã‚³ã‚¹ãƒˆ** | ãƒ¢ãƒãƒªã‚¹ã¨åŒç­‰ã®é‹ç”¨ |
| **é«˜ã„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹** | ãƒ—ãƒ­ã‚»ã‚¹å†…é€šä¿¡ï¼ˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãªã—ï¼‰ |
| **æ®µéšçš„ç§»è¡Œ** | å¾Œã§ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹åŒ–ã—ã‚„ã™ã„ |
| **æ˜ç¢ºãªå¢ƒç•Œ** | ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é–“ã®ä¾å­˜ã‚’åˆ¶å¾¡ |

### âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ

| ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ | èª¬æ˜ |
|----------|------|
| **å˜ä¸€éšœå®³ç‚¹** | ã‚¢ãƒ—ãƒªå…¨ä½“ãŒè½ã¡ã‚‹ |
| **ã‚¹ã‚±ãƒ¼ãƒ«ã®åˆ¶é™** | ã‚¢ãƒ—ãƒªå…¨ä½“ã‚’ã‚¹ã‚±ãƒ¼ãƒ« |
| **ãƒ‡ãƒ—ãƒ­ã‚¤é »åº¦** | å…¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒæ™‚ãƒ‡ãƒ—ãƒ­ã‚¤ |
| **æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å›ºå®š** | å…¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒã˜æŠ€è¡“ |
| **è¦å¾‹ãŒå¿…è¦** | ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å¢ƒç•Œã‚’å®ˆã‚‹è¦å¾‹ãŒå¿…è¦ |

### ğŸ“Š æ¡ç”¨ã™ã¹ãã‚±ãƒ¼ã‚¹

- âœ… **ä¸­ã€œå¤§è¦æ¨¡ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³**
- âœ… **å°†æ¥ã®ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹åŒ–ã‚’è¦‹æ®ãˆã¦ã„ã‚‹**
- âœ… **ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã¯æ—©ã™ãã‚‹**
- âœ… **æ˜ç¢ºãªãƒ‰ãƒ¡ã‚¤ãƒ³å¢ƒç•ŒãŒã‚ã‚‹**
- âœ… **è¤‡æ•°ãƒãƒ¼ãƒ ã§ã®é–‹ç™ºã ãŒã€åˆ†æ•£ã‚·ã‚¹ãƒ†ãƒ ã¯é¿ã‘ãŸã„**

### ğŸ”¥ ç¾åœ¨ã®ãƒˆãƒ¬ãƒ³ãƒ‰

**äººæ°—åº¦**: â­â­â­â­â­ (æ€¥ä¸Šæ˜‡ä¸­ï¼)

- **2022å¹´ä»¥é™ã€å¤§æ³¨ç›®**
- Shopifyã€GitLabãŒæ¡ç”¨ã—ã¦æˆåŠŸ
- ã€Œã¾ãšãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ãƒ¢ãƒãƒªã‚¹ã‹ã‚‰å§‹ã‚ã‚ˆã€ãŒæ–°å¸¸è­˜
- ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰ã®å›å¸°ã‚‚
- .NETã€Javaã€Pythonã§æ¡ç”¨å¢—åŠ 

### ğŸ’¡ æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

```
ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ãƒ¢ãƒãƒªã‚¹ã§é–‹å§‹
    â†“
ã‚¹ãƒ†ãƒƒãƒ—2: å¿…è¦ã«å¿œã˜ã¦ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’åˆ†é›¢
    â†“
ã‚¹ãƒ†ãƒƒãƒ—3: ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹åŒ–ï¼ˆå¿…è¦ãªã‚‰ï¼‰
```

---

## CQRS

### æ¦‚è¦

**Command Query Responsibility Segregation**ï¼ˆã‚³ãƒãƒ³ãƒ‰ã‚¯ã‚¨ãƒªè²¬å‹™åˆ†é›¢ï¼‰
æ›¸ãè¾¼ã¿ï¼ˆCommandï¼‰ã¨èª­ã¿è¾¼ã¿ï¼ˆQueryï¼‰ã®ãƒ¢ãƒ‡ãƒ«ã‚’åˆ†é›¢ã™ã‚‹ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Application                      â”‚
â”‚                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Commands   â”‚         â”‚   Queries   â”‚    â”‚
â”‚  â”‚ (Write)     â”‚         â”‚  (Read)     â”‚    â”‚
â”‚  â”‚             â”‚         â”‚             â”‚    â”‚
â”‚  â”‚ - Create    â”‚         â”‚ - GetById   â”‚    â”‚
â”‚  â”‚ - Update    â”‚         â”‚ - GetList   â”‚    â”‚
â”‚  â”‚ - Delete    â”‚         â”‚ - Search    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚        â”‚                        â”‚            â”‚
â”‚        â–¼                        â–¼            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Write DB   â”‚         â”‚   Read DB   â”‚    â”‚
â”‚  â”‚ (æ­£è¦åŒ–)     â”‚ â—„â”€åŒæœŸâ”€â–º â”‚ (éæ­£è¦åŒ–) â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®Ÿè£…ä¾‹

#### Commandï¼ˆæ›¸ãè¾¼ã¿ï¼‰

```vb
' Command
Public Class CreateOrderCommand
    Public Property CustomerId As Integer
    Public Property ProductId As Integer
    Public Property Quantity As Integer
End Class

' Command Handler
Public Class CreateOrderCommandHandler
    Private _repository As IOrderRepository
    Private _eventBus As IEventBus
    
    Public Function Handle(command As CreateOrderCommand) As CommandResult
        ' ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã£ãŸæ›¸ãè¾¼ã¿
        Dim order As New Order(command.CustomerId)
        order.AddItem(command.ProductId, command.Quantity)
        
        ' ä¿å­˜
        _repository.Save(order)
        
        ' ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ
        _eventBus.Publish(New OrderCreatedEvent With {.OrderId = order.Id})
        
        Return CommandResult.Success(order.Id)
    End Function
End Class
```

#### Queryï¼ˆèª­ã¿è¾¼ã¿ï¼‰

```vb
' Query
Public Class GetOrderListQuery
    Public Property CustomerId As Integer
    Public Property PageNumber As Integer
    Public Property PageSize As Integer
End Class

' Query Handler
Public Class GetOrderListQueryHandler
    Private _readRepository As IOrderReadRepository
    
    Public Function Handle(query As GetOrderListQuery) As List(Of OrderListDto)
        ' èª­ã¿å–ã‚Šå°‚ç”¨ã®ãƒªãƒã‚¸ãƒˆãƒªï¼ˆéæ­£è¦åŒ–ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ï¼‰
        Return _readRepository.GetOrderList(
            query.CustomerId,
            query.PageNumber,
            query.PageSize)
    End Function
End Class

' èª­ã¿å–ã‚Šå°‚ç”¨DTO
Public Class OrderListDto
    Public Property OrderId As Integer
    Public Property OrderDate As DateTime
    Public Property ProductName As String  ' JOINã•ã‚ŒãŸçµæœ
    Public Property TotalAmount As Decimal
    Public Property Status As String
End Class
```

### âœ… ãƒ¡ãƒªãƒƒãƒˆ

| ãƒ¡ãƒªãƒƒãƒˆ | èª¬æ˜ |
|---------|------|
| **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–** | èª­ã¿æ›¸ãã‚’å€‹åˆ¥ã«æœ€é©åŒ– |
| **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£** | èª­ã¿å–ã‚Šå´ã‚’ç‹¬ç«‹ã—ã¦ã‚¹ã‚±ãƒ¼ãƒ« |
| **ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¯ã‚¨ãƒª** | è¤‡é›‘ãªJOINã‚’é¿ã‘ã‚‰ã‚Œã‚‹ |
| **ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã®ä¿è­·** | æ›¸ãè¾¼ã¿å´ã§ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ã‚’å®ˆã‚‹ |
| **æŸ”è»Ÿãªèª­ã¿å–ã‚Š** | ç”¨é€”ã«å¿œã˜ãŸè¤‡æ•°ã®Readãƒ¢ãƒ‡ãƒ« |

### âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ

| ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ | èª¬æ˜ |
|----------|------|
| **è¤‡é›‘æ€§ã®å¢—åŠ ** | ã‚³ãƒ¼ãƒ‰ãŒå€å¢— |
| **ãƒ‡ãƒ¼ã‚¿ã®åŒæœŸ** | Write/Readãƒ¢ãƒ‡ãƒ«ã®åŒæœŸãŒå¿…è¦ |
| **çµæœæ•´åˆæ€§** | å³åº§ã«ãƒ‡ãƒ¼ã‚¿ãŒåæ˜ ã•ã‚Œãªã„ |
| **å­¦ç¿’ã‚³ã‚¹ãƒˆ** | ç†è§£ã¨å®Ÿè£…ãŒé›£ã—ã„ |
| **é‹ç”¨ã‚³ã‚¹ãƒˆ** | è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ã®ç®¡ç† |

### ğŸ“Š æ¡ç”¨ã™ã¹ãã‚±ãƒ¼ã‚¹

- âœ… **èª­ã¿è¾¼ã¿ãŒåœ§å€’çš„ã«å¤šã„**ï¼ˆ90%ä»¥ä¸ŠãŒèª­ã¿å–ã‚Šï¼‰
- âœ… **è¤‡é›‘ãªæ¤œç´¢ãƒ»ãƒ¬ãƒãƒ¼ãƒˆè¦ä»¶**
- âœ… **é«˜ã„ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ãŒå¿…è¦**
- âœ… **ã‚¤ãƒ™ãƒ³ãƒˆã‚½ãƒ¼ã‚·ãƒ³ã‚°ã¨ã®çµ„ã¿åˆã‚ã›**
- âœ… **èª­ã¿æ›¸ãã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶ãŒç•°ãªã‚‹**

### ğŸ”¥ ç¾åœ¨ã®ãƒˆãƒ¬ãƒ³ãƒ‰

**äººæ°—åº¦**: â­â­â­â˜†â˜†

- ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã¨çµ„ã¿åˆã‚ã›ã¦ä½¿ã‚ã‚Œã‚‹ã“ã¨ãŒå¤šã„
- Event Sourcing ã¨ã‚»ãƒƒãƒˆã§æ¡ç”¨
- éåº¦ãªé©ç”¨ã¸ã®è­¦é˜ã‚‚ï¼ˆæœ¬å½“ã«å¿…è¦ã‹ï¼Ÿï¼‰
- ã‚·ãƒ³ãƒ—ãƒ«ãªCRUDã«ã¯ä¸è¦

### âš ï¸ æ³¨æ„ç‚¹

> **CQRSã¯è¤‡é›‘ã•ã‚’è¿½åŠ ã™ã‚‹**
> 
> - å°è¦æ¨¡ã‚¢ãƒ—ãƒªã«ã¯å‘ã‹ãªã„
> - ã¾ãšã‚·ãƒ³ãƒ—ãƒ«ãªè¨­è¨ˆã‹ã‚‰
> - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡ŒãŒç™ºç”Ÿã—ã¦ã‹ã‚‰æ¤œè¨

---

## ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### æ¦‚è¦

**ã‚¤ãƒ™ãƒ³ãƒˆ**ã‚’ä¸­å¿ƒã«ã‚·ã‚¹ãƒ†ãƒ ã‚’è¨­è¨ˆã€‚ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ãŒç–çµåˆã«ãªã‚‹ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Order     â”‚         â”‚  Inventory  â”‚
â”‚   Service   â”‚         â”‚   Service   â”‚
â”‚             â”‚         â”‚             â”‚
â”‚  CreateOrderâ”‚         â”‚             â”‚
â”‚      â”‚      â”‚         â”‚             â”‚
â”‚      â–¼      â”‚         â”‚             â”‚
â”‚   Publish   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â–º Event Bus
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚      â”‚      â”‚        â”‚
                        â”‚      â–¼      â”‚        â”‚
                        â”‚   Subscribe â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚      â”‚      â”‚
                        â”‚      â–¼      â”‚
                        â”‚ DecreaseStockâ”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Email     â”‚
â”‚   Service   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Event Bus
â”‚             â”‚
â”‚ SendOrderConfirmation
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ã‚¤ãƒ™ãƒ³ãƒˆã®ç¨®é¡

| ç¨®é¡ | èª¬æ˜ | ä¾‹ |
|-----|------|-----|
| **Domain Event** | ãƒ‰ãƒ¡ã‚¤ãƒ³å†…ã®é‡è¦ãªå‡ºæ¥äº‹ | `OrderCreated`ã€`PaymentCompleted` |
| **Integration Event** | ã‚·ã‚¹ãƒ†ãƒ é–“ã®çµ±åˆã‚¤ãƒ™ãƒ³ãƒˆ | `UserRegistered` |
| **Event Sourcing** | çŠ¶æ…‹å¤‰æ›´ã‚’å…¨ã¦ã‚¤ãƒ™ãƒ³ãƒˆã§è¨˜éŒ² | ã‚¤ãƒ™ãƒ³ãƒˆã‚¹ãƒˆã‚¢ã«ä¿å­˜ |

### å®Ÿè£…ä¾‹

#### ã‚¤ãƒ™ãƒ³ãƒˆå®šç¾©

```vb
' ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ
Public Class OrderCreatedEvent
    Inherits DomainEvent
    
    Public Property OrderId As Integer
    Public Property CustomerId As Integer
    Public Property TotalAmount As Decimal
    Public Property CreatedAt As DateTime
End Class

Public Class PaymentCompletedEvent
    Inherits DomainEvent
    
    Public Property OrderId As Integer
    Public Property PaymentId As String
    Public Property Amount As Decimal
End Class
```

#### ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ

```vb
Public Class OrderService
    Private _eventBus As IEventBus
    
    Public Function CreateOrder(request As CreateOrderRequest) As Order
        ' æ³¨æ–‡ä½œæˆ
        Dim order As New Order(request.CustomerId)
        order.AddItem(request.ProductId, request.Quantity)
        
        ' DBã«ä¿å­˜
        _repository.Save(order)
        
        ' ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œ
        _eventBus.Publish(New OrderCreatedEvent With {
            .OrderId = order.Id,
            .CustomerId = order.CustomerId,
            .TotalAmount = order.TotalAmount,
            .CreatedAt = DateTime.Now
        })
        
        Return order
    End Function
End Class
```

#### ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©

```vb
' åœ¨åº«ã‚µãƒ¼ãƒ“ã‚¹
Public Class OrderCreatedEventHandler
    Implements IEventHandler(Of OrderCreatedEvent)
    
    Public Async Function Handle(event As OrderCreatedEvent) As Task
        ' åœ¨åº«ã‚’æ¸›ã‚‰ã™
        Await _inventoryService.ReserveStock(event.OrderId)
    End Function
End Class

' ãƒ¡ãƒ¼ãƒ«é€šçŸ¥ã‚µãƒ¼ãƒ“ã‚¹
Public Class OrderCreatedEmailHandler
    Implements IEventHandler(Of OrderCreatedEvent)
    
    Public Async Function Handle(event As OrderCreatedEvent) As Task
        ' æ³¨æ–‡ç¢ºèªãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡
        Await _emailService.SendOrderConfirmation(event.OrderId)
    End Function
End Class

' ãƒã‚¤ãƒ³ãƒˆã‚µãƒ¼ãƒ“ã‚¹
Public Class OrderCreatedPointHandler
    Implements IEventHandler(Of OrderCreatedEvent)
    
    Public Async Function Handle(event As OrderCreatedEvent) As Task
        ' ãƒã‚¤ãƒ³ãƒˆã‚’ä»˜ä¸
        Await _pointService.AddPoints(event.CustomerId, event.TotalAmount)
    End Function
End Class
```

### âœ… ãƒ¡ãƒªãƒƒãƒˆ

| ãƒ¡ãƒªãƒƒãƒˆ | èª¬æ˜ |
|---------|------|
| **ç–çµåˆ** | ã‚µãƒ¼ãƒ“ã‚¹é–“ã®ç›´æ¥ä¾å­˜ãŒãªã„ |
| **æ‹¡å¼µæ€§** | æ–°ã—ã„ãƒãƒ³ãƒ‰ãƒ©ã‚’è¿½åŠ ã™ã‚‹ã ã‘ |
| **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£** | éåŒæœŸå‡¦ç†ã§é«˜ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆ |
| **ç›£æŸ»è¨¼è·¡** | ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°ã§å±¥æ­´è¿½è·¡ |
| **éšœå®³ã®å±€æ‰€åŒ–** | ã‚ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã®éšœå®³ãŒä»–ã«æ³¢åŠã—ã«ãã„ |
| **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡¦ç†** | ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å¯¾å¿œ |

### âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ

| ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ | èª¬æ˜ |
|----------|------|
| **è¤‡é›‘æ€§** | ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ãŒè¿½ã„ã¥ã‚‰ã„ |
| **ãƒ‡ãƒãƒƒã‚°ã®å›°é›£ã•** | éåŒæœŸå‡¦ç†ã®ãƒ‡ãƒãƒƒã‚°ãŒé›£ã—ã„ |
| **çµæœæ•´åˆæ€§** | å³åº§ã«ãƒ‡ãƒ¼ã‚¿ãŒåæ˜ ã•ã‚Œãªã„ |
| **ã‚¤ãƒ™ãƒ³ãƒˆé †åº** | é †åºä¿è¨¼ãŒé›£ã—ã„ |
| **é‡è¤‡å‡¦ç†** | åŒã˜ã‚¤ãƒ™ãƒ³ãƒˆãŒè¤‡æ•°å›å‡¦ç†ã•ã‚Œã‚‹å¯èƒ½æ€§ |
| **ã‚¤ãƒ³ãƒ•ãƒ©ä¾å­˜** | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ–ãƒ­ãƒ¼ã‚«ãƒ¼ãŒå¿…è¦ |

### ğŸ“Š æ¡ç”¨ã™ã¹ãã‚±ãƒ¼ã‚¹

- âœ… **ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**
- âœ… **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡¦ç†ãŒå¿…è¦**
- âœ… **é«˜ã„ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ãŒå¿…è¦**
- âœ… **ç›£æŸ»ãƒ­ã‚°ãŒé‡è¦**
- âœ… **è¤‡æ•°ã‚·ã‚¹ãƒ†ãƒ ã®çµ±åˆ**
- âœ… **éåŒæœŸå‡¦ç†ãŒä¸­å¿ƒ**

### ğŸ”¥ ç¾åœ¨ã®ãƒˆãƒ¬ãƒ³ãƒ‰

**äººæ°—åº¦**: â­â­â­â­â­

- **ã‚¯ãƒ©ã‚¦ãƒ‰ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã®æ¨™æº–**
- Apache Kafkaã€RabbitMQã€AWS EventBridge ãŒäººæ°—
- ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ï¼ˆAWS Lambdaã€Azure Functionsï¼‰ã¨ç›¸æ€§æŠœç¾¤
- ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚·ã‚¹ãƒ†ãƒ ã®åŸºç›¤
- 2023å¹´ä»¥é™ã•ã‚‰ã«åŠ é€Ÿ

### æ¨å¥¨ãƒ„ãƒ¼ãƒ«

- **Apache Kafka**: å¤§è¦æ¨¡ãƒ»é«˜ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆ
- **RabbitMQ**: æŸ”è»Ÿãªãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- **AWS EventBridge**: ãƒãƒãƒ¼ã‚¸ãƒ‰ã€AWSçµ±åˆ
- **Azure Service Bus**: Azureã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ 
- **MediatR**: ã‚¢ãƒ—ãƒªå†…ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆ.NETï¼‰

---

## æ¯”è¼ƒè¡¨

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç·åˆæ¯”è¼ƒ

| ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ | è¤‡é›‘åº¦ | å­¦ç¿’ã‚³ã‚¹ãƒˆ | å°è¦æ¨¡ | ä¸­è¦æ¨¡ | å¤§è¦æ¨¡ | ãƒˆãƒ¬ãƒ³ãƒ‰ | æ¨å¥¨åº¦ |
|------------|-------|----------|--------|--------|--------|---------|--------|
| **ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰** | â­â­â˜†â˜†â˜† | â­â­â˜†â˜†â˜† | â­â­â­ | â­â­â­ | â­â­â˜† | â­â­â­â­â˜† | å…¥é–€è€…å‘ã‘ |
| **ã‚¯ãƒªãƒ¼ãƒ³** | â­â­â­â­â˜† | â­â­â­â­â˜† | â­â˜†â˜† | â­â­â­ | â­â­â­ | â­â­â­â­â­ | é•·æœŸé‹ç”¨ |
| **ãƒ˜ã‚­ã‚µã‚´ãƒŠãƒ«** | â­â­â­â­â˜† | â­â­â­â­â˜† | â­â˜†â˜† | â­â­â­ | â­â­â­ | â­â­â­â­â˜† | æŠ€è¡“å¤‰æ›´å¤š |
| **å‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹** | â­â­â­â˜†â˜† | â­â­â­â˜†â˜† | â­â­â˜† | â­â­â­ | â­â­â­ | â­â­â­â­â­ | æ©Ÿèƒ½è¿½åŠ å¤š |
| **ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹** | â­â­â­â­â­ | â­â­â­â­â­ | â­â˜†â˜† | â­â­â˜† | â­â­â­ | â­â­â­â­â˜† | å¤§è¦æ¨¡ã®ã¿ |
| **ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ãƒ¢ãƒãƒªã‚¹** | â­â­â­â˜†â˜† | â­â­â­â˜†â˜† | â­â­â˜† | â­â­â­ | â­â­â­ | â­â­â­â­â­ | **ã‚¤ãƒã‚ªã‚·** |
| **CQRS** | â­â­â­â­â˜† | â­â­â­â­â˜† | â­â˜†â˜† | â­â­â˜† | â­â­â­ | â­â­â­â˜†â˜† | æ€§èƒ½è¦ä»¶ |
| **ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•** | â­â­â­â­â˜† | â­â­â­â­â˜† | â­â˜†â˜† | â­â­â­ | â­â­â­ | â­â­â­â­â­ | éåŒæœŸå‡¦ç† |

---

## é¸æŠã‚¬ã‚¤ãƒ‰

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦æ¨¡åˆ¥

#### å°è¦æ¨¡ï¼ˆ1-3äººã€1-3ãƒ¶æœˆã€~20ç”»é¢ï¼‰

```
æ¨å¥¨: ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
ç†ç”±: ã‚·ãƒ³ãƒ—ãƒ«ã§å­¦ç¿’ã‚³ã‚¹ãƒˆãŒä½ã„
```

**æ¡ç”¨ä¾‹**:
- ç¤¾å†…ãƒ„ãƒ¼ãƒ«
- MVPï¼ˆæœ€å°å®Ÿç”¨è£½å“ï¼‰
- å€‹äººãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

#### ä¸­è¦æ¨¡ï¼ˆ3-10äººã€3-12ãƒ¶æœˆã€20-100ç”»é¢ï¼‰

```
æ¨å¥¨1: ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ãƒ¢ãƒãƒªã‚¹ â­â­â­â­â­
æ¨å¥¨2: å‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
ç†ç”±: æ‹¡å¼µæ€§ã¨ç®¡ç†ã®ãƒãƒ©ãƒ³ã‚¹ãŒè‰¯ã„
```

**æ¡ç”¨ä¾‹**:
- ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
- SaaSè£½å“
- ECã‚µã‚¤ãƒˆ

#### å¤§è¦æ¨¡ï¼ˆ10äººä»¥ä¸Šã€1å¹´ä»¥ä¸Šã€100ç”»é¢ä»¥ä¸Šï¼‰

```
æ¨å¥¨1: ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ãƒ¢ãƒãƒªã‚¹ â†’ ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ â­â­â­â­â­
æ¨å¥¨2: ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ + CQRS
ç†ç”±: æ®µéšçš„ã«ã‚¹ã‚±ãƒ¼ãƒ«å¯èƒ½
```

**æ¡ç”¨ä¾‹**:
- å¤§è¦æ¨¡ECãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 
- é‡‘èã‚·ã‚¹ãƒ†ãƒ 
- ã‚°ãƒ­ãƒ¼ãƒãƒ«SaaS

### è¦ä»¶åˆ¥

#### é«˜ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦æ±‚

```
âœ… CQRS
âœ… ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
âœ… ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°æˆ¦ç•¥
```

#### é »ç¹ãªæ©Ÿèƒ½è¿½åŠ ãƒ»å¤‰æ›´

```
âœ… å‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
âœ… ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ãƒ¢ãƒãƒªã‚¹
```

#### è¤‡æ•°ãƒãƒ¼ãƒ é–‹ç™º

```
âœ… ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ãƒ¢ãƒãƒªã‚¹
âœ… ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆè¦æ¨¡ã«ã‚ˆã‚‹ï¼‰
```

#### ãƒ¬ã‚¬ã‚·ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ã®ç§»è¡Œ

```
âœ… ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ãƒ¢ãƒãƒªã‚¹
âœ… Strangler Figãƒ‘ã‚¿ãƒ¼ãƒ³
```

### ãƒãƒ¼ãƒ ã‚¹ã‚­ãƒ«åˆ¥

#### åˆç´šãƒãƒ¼ãƒ 

```
âœ… ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
âš ï¸ è¤‡é›‘ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã¯é¿ã‘ã‚‹
```

#### ä¸­ç´šãƒãƒ¼ãƒ 

```
âœ… ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ãƒ¢ãƒãƒªã‚¹
âœ… å‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
âœ… ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆæ®µéšçš„ã«ï¼‰
```

#### ä¸Šç´šãƒãƒ¼ãƒ 

```
âœ… ã™ã¹ã¦ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒé¸æŠè‚¢
âœ… è¦ä»¶ã«å¿œã˜ã¦æœ€é©ãªã‚‚ã®ã‚’é¸æŠ
```

---

## æœ€è¿‘ã®ãƒˆãƒ¬ãƒ³ãƒ‰ï¼ˆ2024-2025ï¼‰

### ğŸ”¥ æ€¥ä¸Šæ˜‡ä¸­

1. **ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ãƒ¢ãƒãƒªã‚¹**
   - ã€Œãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã€ã‹ã‚‰ã®è»¢æ›
   - Shopifyã€GitLabã®æˆåŠŸäº‹ä¾‹

2. **å‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**
   - æ©Ÿèƒ½ãƒ™ãƒ¼ã‚¹ã®é–‹ç™ºã«æœ€é©
   - MediatRã€FastEndpointsã®äººæ°—

3. **ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹• + ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹**
   - AWS Lambdaã€Azure Functions
   - ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚·ã‚¹ãƒ†ãƒ 

### ğŸ“‰ ä¸‹é™å‚¾å‘

1. **ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**
   - ã€Œã¾ãšãƒ¢ãƒãƒªã‚¹ã‹ã‚‰ã€ãŒæ–°å¸¸è­˜
   - éåº¦ãªåˆ†å‰²ã®åçœ

2. **ç´”ç²‹ãªãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**
   - ã‚ˆã‚Šãƒ¢ãƒ€ãƒ³ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã¸ç§»è¡Œ
   - ãŸã ã—å…¥é–€ç”¨ã¨ã—ã¦ã¯ä¾ç„¶æœ‰åŠ¹

### ğŸ’¡ æ–°ã—ã„å‹•ã

1. **ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³**
   - CRDTï¼ˆConflict-free Replicated Data Typeï¼‰
   - ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ

2. **ã‚¨ãƒƒã‚¸ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**
   - Cloudflare Workersã€Deno Deploy
   - åœ°ç†çš„ã«åˆ†æ•£ã—ãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

3. **AIãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**
   - LLMçµ±åˆã‚’å‰æã¨ã—ãŸè¨­è¨ˆ
   - ãƒ™ã‚¯ãƒˆãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ´»ç”¨

---

## ã¾ã¨ã‚: 2025å¹´ã®æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

### ğŸ† ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ãƒ‘ã‚¹

```
Step 1: ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ãƒ¢ãƒãƒªã‚¹ã§é–‹å§‹
  â””â”€ æ˜ç¢ºãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å¢ƒç•Œ
  â””â”€ ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆï¼ˆDDDï¼‰

Step 2: å‚ç›´ã‚¹ãƒ©ã‚¤ã‚¹é©ç”¨ï¼ˆæ©Ÿèƒ½ã”ã¨ï¼‰
  â””â”€ æ©Ÿèƒ½ã®ç‹¬ç«‹æ€§ã‚’é«˜ã‚ã‚‹

Step 3: å¿…è¦ã«å¿œã˜ã¦CQRSå°å…¥
  â””â”€ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶ãŒã‚ã‚‹éƒ¨åˆ†ã®ã¿

Step 4: ã‚¹ã‚±ãƒ¼ãƒ«è¦ä»¶ã§ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹åŒ–
  â””â”€ ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’1ã¤ãšã¤åˆ†é›¢
```

### âš ï¸ ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³

âŒ **æœ€åˆã‹ã‚‰ãƒã‚¤ã‚¯ãƒ­ã‚µãƒ¼ãƒ“ã‚¹**
- è¤‡é›‘ã•ã ã‘ãŒå¢—ã™
- ã¾ãšãƒ¢ãƒãƒªã‚¹ã§æ¤œè¨¼

âŒ **éåº¦ãªCQRSé©ç”¨**
- ã™ã¹ã¦ã®ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã§CQRSã¯ä¸è¦
- æœ¬å½“ã«å¿…è¦ãªéƒ¨åˆ†ã ã‘

âŒ **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«æŒ¯ã‚Šå›ã•ã‚Œã‚‹**
- ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ > ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- ãƒ“ã‚¸ãƒã‚¹è¦ä»¶ã‚’æœ€å„ªå…ˆ

### ğŸ“š å­¦ç¿’ãƒªã‚½ãƒ¼ã‚¹

- **æ›¸ç±**:
  - "Clean Architecture" by Robert C. Martin
  - "Domain-Driven Design" by Eric Evans
  - "Building Microservices" by Sam Newman

- **ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒªã‚½ãƒ¼ã‚¹**:
  - Martin Fowler's Blog
  - Microsoft Architecture Guides
  - AWS Well-Architected Framework

---

**æœ€çµ‚æ›´æ–°**: 2025å¹´11æœˆ15æ—¥