# TraceSystem - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

## ğŸ“‹ ç›®æ¬¡

- [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦](#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦)
- [ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³æ§‹æˆ](#ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³æ§‹æˆ)
- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ](#ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ)
- [ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ](#ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ )
- [ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„](#ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„)
- [é–‹ç™ºã‚¬ã‚¤ãƒ‰](#é–‹ç™ºã‚¬ã‚¤ãƒ‰)
- [æ–°äººæ•™è‚²ãƒ‘ã‚¹](#æ–°äººæ•™è‚²ãƒ‘ã‚¹)

---

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### åŸºæœ¬æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| **ç¨®é¡** | WinFormsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ |
| **è¦æ¨¡** | ç´„20ç”»é¢ |
| **é–‹ç™ºæœŸé–“** | 2ãƒ¶æœˆ |
| **ä¸»è¦æ©Ÿèƒ½** | å¤‰æ›´ãƒˆãƒ¬ãƒ¼ã‚¹ç®¡ç†ã€ãƒã‚¹ã‚¿ç®¡ç† |
| **é–‹ç™ºäººæ•°** | 1-2å |
| **æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯** | VB.NETã€.NET Framework 4.8ã€Oracle |

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›®çš„

1. **æ¥­å‹™åŠ¹ç‡åŒ–**: å¤‰æ›´ãƒˆãƒ¬ãƒ¼ã‚¹ã¨ãƒã‚¹ã‚¿ç®¡ç†ã®ä¸€å…ƒåŒ–
2. **æ•™ææ´»ç”¨**: æ–°äººãŒãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ†é›¢ã‚’å­¦ã¹ã‚‹æ¨™æº–çš„ãªæ§‹æˆ
3. **ä¿å®ˆæ€§å‘ä¸Š**: ä»Šå¾Œã®ä¿®æ­£ãŒã—ã‚„ã™ã„è¨­è¨ˆ

---

## ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³æ§‹æˆ

```
TraceSystem.sln
â”‚
â”œâ”€ TraceSystem.Desktop      (ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³)
â”œâ”€ TraceSystem.Shared       (å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒª)
â””â”€ TraceSystem.Resident     (å¸¸é§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³)
```

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆã®ç‰¹å¾´

- **3ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ**: ç®¡ç†ã®ç°¡ç´ åŒ–ã¨ãƒ“ãƒ«ãƒ‰æ™‚é–“ã®æœ€é©åŒ–
- **æ©Ÿèƒ½åˆ¥ãƒ•ã‚©ãƒ«ãƒ€åˆ†å‰²**: Features ãƒ•ã‚©ãƒ«ãƒ€å†…ã§æ©Ÿèƒ½ã”ã¨ã«æ•´ç†
- **ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ†é›¢**: å„æ©Ÿèƒ½å†…ã§ UI/Business/Data/Models ã®4å±¤æ§‹é€ ã‚’ç¶­æŒ

---

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          TraceSystem.Desktop                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         MainForm (Shell)              â”‚  â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚    â”‚   NavigationService         â”‚    â”‚  â”‚
â”‚  â”‚    â”‚  (UserControlåˆ‡ã‚Šæ›¿ãˆç®¡ç†)   â”‚    â”‚  â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         Features/                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
â”‚  â”‚  â”‚ Portal   â”‚  â”‚ Master   â”‚  ...   â”‚   â”‚
â”‚  â”‚  â”‚          â”‚  â”‚          â”‚        â”‚   â”‚
â”‚  â”‚  â”‚ UI       â”‚  â”‚ UI       â”‚        â”‚   â”‚
â”‚  â”‚  â”‚ Business â”‚  â”‚ Business â”‚        â”‚   â”‚
â”‚  â”‚  â”‚ Data     â”‚  â”‚ Data     â”‚        â”‚   â”‚
â”‚  â”‚  â”‚ Models   â”‚  â”‚ Models   â”‚        â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         TraceSystem.Shared                  â”‚
â”‚  - Controls (å…±é€šUI)                         â”‚
â”‚  - Infrastructure (DI, Database)            â”‚
â”‚  - Utilities                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹é€ 

å„æ©Ÿèƒ½ã¯ä»¥ä¸‹ã®4å±¤ã§æ§‹æˆ:

```
UIå±¤ (UserControl)
    â†“ DTO
Businesså±¤ (Service/Validator/Workflow)
    â†“ Entity
Dataå±¤ (Repository)
    â†“ SQL
Database (Oracle)
```

#### å„å±¤ã®è²¬å‹™

| å±¤ | è²¬å‹™ | å«ã¾ã‚Œã‚‹ã‚‚ã® |
|---|------|------------|
| **UI** | ç”»é¢è¡¨ç¤ºãƒ»å…¥åŠ›åˆ¶å¾¡ | UserControlã€Presenter |
| **Business** | ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãƒ»æ¤œè¨¼ | Serviceã€Validatorã€Workflow |
| **Data** | ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ | Repositoryã€Queries |
| **Models** | ãƒ‡ãƒ¼ã‚¿æ§‹é€ å®šç¾© | Entityã€DTOã€Enum |

---

## ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ

### TraceSystem.Desktop

```
TraceSystem.Desktop/
â”‚
â”œâ”€ MainForm.vb                        # ãƒ¡ã‚¤ãƒ³ã‚·ã‚§ãƒ«
â”œâ”€ Program.vb                         # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚
â”œâ”€ Common/                            # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…±é€š
â”‚  â”œâ”€ Navigation/
â”‚  â”‚  â”œâ”€ INavigationService.vb
â”‚  â”‚  â””â”€ NavigationService.vb
â”‚  â”‚
â”‚  â”œâ”€ DependencyInjection/
â”‚  â”‚  â””â”€ ServiceRegistration.vb      # DIç™»éŒ²ã‚’é›†ç´„
â”‚  â”‚
â”‚  â””â”€ Infrastructure/
â”‚     â””â”€ OracleConnectionFactory.vb   # DBæ¥ç¶š
â”‚
â”œâ”€ Features/                          # æ©Ÿèƒ½åˆ¥ãƒ•ã‚©ãƒ«ãƒ€
â”‚  â”‚
â”‚  â”œâ”€ Portal/                         # ãƒãƒ¼ã‚¿ãƒ«æ©Ÿèƒ½
â”‚  â”‚  â”œâ”€ UI/
â”‚  â”‚  â”‚  â””â”€ PortalControl.vb
â”‚  â”‚  â”œâ”€ Business/
â”‚  â”‚  â”‚  â””â”€ DashboardService.vb
â”‚  â”‚  â””â”€ Models/
â”‚  â”‚     â””â”€ DashboardDto.vb
â”‚  â”‚
â”‚  â”œâ”€ Master/                         # ãƒã‚¹ã‚¿ç®¡ç†æ©Ÿèƒ½
â”‚  â”‚  â”œâ”€ UI/
â”‚  â”‚  â”‚  â”œâ”€ MasterListControl.vb
â”‚  â”‚  â”‚  â””â”€ MasterEditControl.vb
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ Business/
â”‚  â”‚  â”‚  â”œâ”€ Services/
â”‚  â”‚  â”‚  â”‚  â”œâ”€ IMasterService.vb
â”‚  â”‚  â”‚  â”‚  â””â”€ MasterService.vb
â”‚  â”‚  â”‚  â””â”€ Validators/
â”‚  â”‚  â”‚     â””â”€ MasterValidator.vb
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ Data/
â”‚  â”‚  â”‚  â”œâ”€ Repositories/
â”‚  â”‚  â”‚  â”‚  â”œâ”€ IMasterRepository.vb
â”‚  â”‚  â”‚  â”‚  â””â”€ MasterRepository.vb
â”‚  â”‚  â”‚  â””â”€ Queries/
â”‚  â”‚  â”‚     â””â”€ MasterQueries.vb
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ Models/
â”‚  â”‚     â”œâ”€ Entities/
â”‚  â”‚     â”‚  â””â”€ Master.vb
â”‚  â”‚     â””â”€ DTOs/
â”‚  â”‚        â”œâ”€ MasterListDto.vb
â”‚  â”‚        â””â”€ MasterEditDto.vb
â”‚  â”‚
â”‚  â””â”€ Trace/                          # ãƒˆãƒ¬ãƒ¼ã‚¹æ©Ÿèƒ½
â”‚     â”œâ”€ UI/
â”‚     â”‚  â”œâ”€ TraceMainControl.vb
â”‚     â”‚  â”œâ”€ TraceDetailControl.vb
â”‚     â”‚  â””â”€ AcceptanceControl.vb
â”‚     â”‚
â”‚     â”œâ”€ Business/
â”‚     â”‚  â”œâ”€ Services/
â”‚     â”‚  â”‚  â”œâ”€ ITraceService.vb
â”‚     â”‚  â”‚  â””â”€ TraceService.vb
â”‚     â”‚  â”œâ”€ Workflows/
â”‚     â”‚  â”‚  â””â”€ AcceptanceWorkflow.vb
â”‚     â”‚  â””â”€ Validators/
â”‚     â”‚     â””â”€ TraceValidator.vb
â”‚     â”‚
â”‚     â”œâ”€ Data/
â”‚     â”‚  â”œâ”€ Repositories/
â”‚     â”‚  â”‚  â”œâ”€ ITraceRepository.vb
â”‚     â”‚  â”‚  â””â”€ TraceRepository.vb
â”‚     â”‚  â””â”€ Queries/
â”‚     â”‚     â””â”€ TraceQueries.vb
â”‚     â”‚
â”‚     â””â”€ Models/
â”‚        â”œâ”€ Entities/
â”‚        â”‚  â”œâ”€ TraceHeader.vb
â”‚        â”‚  â””â”€ TraceDetail.vb
â”‚        â”œâ”€ DTOs/
â”‚        â”‚  â””â”€ TraceDto.vb
â”‚        â””â”€ Enums/
â”‚           â”œâ”€ TraceStatus.vb
â”‚           â””â”€ AcceptanceStatus.vb
â”‚
â””â”€ App.config
```

### TraceSystem.Shared

```
TraceSystem.Shared/
â”‚
â”œâ”€ Controls/                          # UIå…±é€šã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«
â”‚  â”œâ”€ Base/
â”‚  â”‚  â”œâ”€ BaseUserControl.vb          # å…¨UserControlã®åŸºåº•
â”‚  â”‚  â””â”€ BaseForm.vb                 # å…¨Formã®åŸºåº•
â”‚  â”‚
â”‚  â”œâ”€ DesignTokens/
â”‚  â”‚  â”œâ”€ ColorTokens.vb
â”‚  â”‚  â”œâ”€ FontTokens.vb
â”‚  â”‚  â”œâ”€ SpacingTokens.vb
â”‚  â”‚  â””â”€ ControlStyler.vb
â”‚  â”‚
â”‚  â””â”€ Custom/
â”‚     â”œâ”€ CollapsiblePanel.vb
â”‚     â””â”€ FileImportDialog.vb
â”‚
â”œâ”€ Infrastructure/                    # åŸºç›¤ã‚¯ãƒ©ã‚¹
â”‚  â”œâ”€ Database/
â”‚  â”‚  â”œâ”€ IDbConnectionFactory.vb
â”‚  â”‚  â””â”€ IRepository(Of T).vb
â”‚  â”‚
â”‚  â””â”€ DependencyInjection/
â”‚     â””â”€ ServiceContainer.vb
â”‚
â”œâ”€ Utilities/                         # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚  â”œâ”€ Logger.vb
â”‚  â”œâ”€ ConfigReader.vb
â”‚  â”œâ”€ StringHelper.vb
â”‚  â””â”€ DateTimeHelper.vb
â”‚
â””â”€ Models/                            # æ±ç”¨ãƒ¢ãƒ‡ãƒ«
   â””â”€ Common/
      â”œâ”€ OperationResult.vb
      â””â”€ PagedResult(Of T).vb
```

---

## ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

### ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³

çµ±ä¸€ã•ã‚ŒãŸUI/UXã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã€ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ¡ç”¨ã€‚

#### ColorTokens.vb

```vb
Namespace TraceSystem.Shared.Controls.DesignTokens

    Public Class ColorTokens
        ' ãƒ—ãƒ©ã‚¤ãƒãƒªã‚«ãƒ©ãƒ¼
        Public Shared ReadOnly Primary As Color = Color.FromArgb(33, 150, 243)
        Public Shared ReadOnly OnPrimary As Color = Color.White
        
        ' ã‚µãƒ¼ãƒ•ã‚§ã‚¹ã‚«ãƒ©ãƒ¼
        Public Shared ReadOnly Surface As Color = Color.White
        Public Shared ReadOnly OnSurface As Color = Color.FromArgb(33, 33, 33)
        
        ' ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰
        Public Shared ReadOnly Background As Color = Color.FromArgb(250, 250, 250)
        
        ' ã‚¨ãƒ©ãƒ¼ã‚«ãƒ©ãƒ¼
        Public Shared ReadOnly [Error] As Color = Color.FromArgb(244, 67, 54)
        Public Shared ReadOnly OnError As Color = Color.White
        
        ' ãƒœãƒ¼ãƒ€ãƒ¼
        Public Shared ReadOnly Border As Color = Color.FromArgb(224, 224, 224)
    End Class
    
End Namespace
```

#### ControlStyler.vbï¼ˆä¸€æ‹¬ã‚¹ã‚¿ã‚¤ãƒ«é©ç”¨ï¼‰

```vb
Namespace TraceSystem.Shared.Controls.DesignTokens

    Public Class ControlStyler
        
        ''' <summary>
        ''' ãƒ•ã‚©ãƒ¼ãƒ å†…ã®ã™ã¹ã¦ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã«ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ã‚’é©ç”¨
        ''' </summary>
        Public Shared Sub ApplyDesignTokens(parentControl As Control)
            ApplyToControl(parentControl)
            
            For Each ctrl As Control In parentControl.Controls
                ApplyToControl(ctrl)
                
                ' å†å¸°çš„ã«å­ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã«ã‚‚é©ç”¨
                If ctrl.HasChildren Then
                    ApplyDesignTokens(ctrl)
                End If
            Next
        End Sub
        
        Private Shared Sub ApplyToControl(ctrl As Control)
            Select Case True
                Case TypeOf ctrl Is Button
                    ApplyButtonStyle(DirectCast(ctrl, Button))
                    
                Case TypeOf ctrl Is TextBox
                    ApplyTextBoxStyle(DirectCast(ctrl, TextBox))
                    
                Case TypeOf ctrl Is Label
                    ApplyLabelStyle(DirectCast(ctrl, Label))
                    
                Case TypeOf ctrl Is Panel
                    ApplyPanelStyle(DirectCast(ctrl, Panel))
                    
                Case TypeOf ctrl Is DataGridView
                    ApplyDataGridViewStyle(DirectCast(ctrl, DataGridView))
            End Select
        End Sub
        
        Private Shared Sub ApplyButtonStyle(btn As Button)
            btn.BackColor = ColorTokens.Primary
            btn.ForeColor = ColorTokens.OnPrimary
            btn.FlatStyle = FlatStyle.Flat
            btn.FlatAppearance.BorderSize = 0
            btn.Font = New Font("ãƒ¡ã‚¤ãƒªã‚ª", 9)
        End Sub
        
        Private Shared Sub ApplyTextBoxStyle(txt As TextBox)
            txt.BackColor = ColorTokens.Surface
            txt.ForeColor = ColorTokens.OnSurface
            txt.BorderStyle = BorderStyle.FixedSingle
            txt.Font = New Font("ãƒ¡ã‚¤ãƒªã‚ª", 9)
        End Sub
        
        ' ä»–ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ç”¨ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚‚åŒæ§˜ã«å®Ÿè£…
        
    End Class
    
End Namespace
```

#### BaseUserControl.vbï¼ˆè‡ªå‹•é©ç”¨ï¼‰

```vb
Imports TraceSystem.Shared.Controls.DesignTokens

Namespace TraceSystem.Shared.Controls.Base

    Public Class BaseUserControl
        Inherits UserControl
        
        Protected Sub New()
            MyBase.New()
            AddHandler Me.Load, AddressOf OnControlLoad
        End Sub
        
        Private Sub OnControlLoad(sender As Object, e As EventArgs)
            ' ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³ã‚’è‡ªå‹•é©ç”¨
            ControlStyler.ApplyDesignTokens(Me)
            Me.BackColor = ColorTokens.Background
        End Sub
        
        ''' <summary>
        ''' ç”»é¢åˆæœŸåŒ–å‡¦ç†ï¼ˆç¶™æ‰¿å…ˆã§ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ï¼‰
        ''' </summary>
        Protected Overridable Sub InitializeScreen()
        End Sub
        
        ''' <summary>
        ''' ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿å‡¦ç†ï¼ˆç¶™æ‰¿å…ˆã§ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ï¼‰
        ''' </summary>
        Protected Overridable Sub LoadData()
        End Sub
        
    End Class
    
End Namespace
```

---

## ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

### Namespaceå‘½åè¦å‰‡

```
TraceSystem.{ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå}.{å¤§åˆ†é¡}.{æ©Ÿèƒ½å}.{ãƒ¬ã‚¤ãƒ¤ãƒ¼}
```

#### ä¾‹

```vb
' Desktop ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
Namespace TraceSystem.Desktop.Features.Master.UI
Namespace TraceSystem.Desktop.Features.Master.Business.Services
Namespace TraceSystem.Desktop.Features.Master.Data.Repositories
Namespace TraceSystem.Desktop.Features.Master.Models.Entities
Namespace TraceSystem.Desktop.Common.Navigation

' Shared ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
Namespace TraceSystem.Shared.Controls.Base
Namespace TraceSystem.Shared.Controls.DesignTokens
Namespace TraceSystem.Shared.Infrastructure.Database
Namespace TraceSystem.Shared.Utilities
```

### ã‚¯ãƒ©ã‚¹å‘½åè¦å‰‡

| ç¨®é¡ | å‘½åãƒ‘ã‚¿ãƒ¼ãƒ³ | ä¾‹ |
|------|-------------|-----|
| UserControl | `{ç”»é¢å}Control` | `MasterListControl.vb` |
| Service | `{å¯¾è±¡}Service` | `MasterService.vb` |
| Repository | `{å¯¾è±¡}Repository` | `MasterRepository.vb` |
| Validator | `{å¯¾è±¡}Validator` | `MasterValidator.vb` |
| Entity | `{ãƒ†ãƒ¼ãƒ–ãƒ«å}` | `Master.vb` |
| DTO | `{ç”¨é€”}Dto` | `MasterListDto.vb` |
| Interface | `I{ã‚¯ãƒ©ã‚¹å}` | `IMasterService.vb` |

### ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®ãƒ«ãƒ¼ãƒ«

1. **1ãƒ•ã‚¡ã‚¤ãƒ«1ã‚¯ãƒ©ã‚¹**: åŸå‰‡ã¨ã—ã¦1ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«1ã¤ã®ã‚¯ãƒ©ã‚¹
2. **ãƒ•ã‚¡ã‚¤ãƒ«å = ã‚¯ãƒ©ã‚¹å**: `MasterService.vb` ã«ã¯ `MasterService` ã‚¯ãƒ©ã‚¹
3. **Interface ã¨å®Ÿè£…ã¯åŒã˜ãƒ•ã‚©ãƒ«ãƒ€**: `IMasterService.vb` ã¨ `MasterService.vb` ã¯åŒã˜ãƒ•ã‚©ãƒ«ãƒ€

### ã‚³ãƒ¡ãƒ³ãƒˆè¦ç´„

```vb
''' <summary>
''' ãƒã‚¹ã‚¿æƒ…å ±ã‚’ç®¡ç†ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã‚¯ãƒ©ã‚¹
''' </summary>
''' <remarks>
''' ã€è²¬å‹™ã€‘
''' - ãƒã‚¹ã‚¿ãƒ‡ãƒ¼ã‚¿ã®CRUDæ“ä½œ
''' - ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ã®é©ç”¨
''' - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
''' 
''' ã€ä¾å­˜é–¢ä¿‚ã€‘
''' - IMasterRepository: ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹
''' - MasterValidator: å…¥åŠ›æ¤œè¨¼
''' 
''' ã€ä½¿ç”¨ä¾‹ã€‘
''' <code>
''' Dim service As New MasterService(repository, validator)
''' Dim result = service.GetAllMasters()
''' </code>
''' </remarks>
Public Class MasterService
    Implements IMasterService
    
    ''' <summary>
    ''' ã™ã¹ã¦ã®ãƒã‚¹ã‚¿æƒ…å ±ã‚’å–å¾—
    ''' </summary>
    ''' <returns>ãƒã‚¹ã‚¿æƒ…å ±ã®ãƒªã‚¹ãƒˆ</returns>
    Public Function GetAllMasters() As List(Of MasterDto) _
        Implements IMasterService.GetAllMasters
        ' å®Ÿè£…
    End Function
    
End Class
```

---

## é–‹ç™ºã‚¬ã‚¤ãƒ‰

### ç”»é¢é·ç§»ã®å®Ÿè£…

#### NavigationServiceï¼ˆç”»é¢åˆ‡ã‚Šæ›¿ãˆç®¡ç†ï¼‰

```vb
' TraceSystem.Desktop/Common/Navigation/NavigationService.vb
Imports TraceSystem.Shared.Controls.Base
Imports TraceSystem.Shared.Controls.DesignTokens

Namespace TraceSystem.Desktop.Common.Navigation

    Public Class NavigationService
        Implements INavigationService
        
        Private ReadOnly _containerPanel As Panel
        Private _currentControl As UserControl
        
        Public Sub New(containerPanel As Panel)
            _containerPanel = containerPanel
        End Sub
        
        ''' <summary>
        ''' æŒ‡å®šã—ãŸUserControlã«ç”»é¢ã‚’åˆ‡ã‚Šæ›¿ãˆ
        ''' </summary>
        Public Sub NavigateTo(Of TControl As {UserControl, New})() _
            Implements INavigationService.NavigateTo
            
            ' ç¾åœ¨ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚’ç ´æ£„
            If _currentControl IsNot Nothing Then
                _containerPanel.Controls.Remove(_currentControl)
                _currentControl.Dispose()
            End If
            
            ' æ–°ã—ã„ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã‚’ç”Ÿæˆãƒ»è¡¨ç¤º
            _currentControl = New TControl()
            _currentControl.Dock = DockStyle.Fill
            
            ' ãƒ‡ã‚¶ã‚¤ãƒ³ãƒˆãƒ¼ã‚¯ãƒ³é©ç”¨
            ControlStyler.ApplyDesignTokens(_currentControl)
            
            _containerPanel.Controls.Add(_currentControl)
        End Sub
        
        ''' <summary>
        ''' ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä»˜ãã§ç”»é¢é·ç§»
        ''' </summary>
        Public Sub NavigateTo(Of TControl As {UserControl, New})(
            initAction As Action(Of TControl)) _
            Implements INavigationService.NavigateTo
            
            NavigateTo(Of TControl)()
            
            If initAction IsNot Nothing Then
                initAction(DirectCast(_currentControl, TControl))
            End If
        End Sub
        
    End Class
    
End Namespace
```

#### MainForm ã§ã®ä½¿ç”¨ä¾‹

```vb
Public Class MainForm
    Private _navigationService As NavigationService
    
    Private Sub MainForm_Load(sender As Object, e As EventArgs) Handles MyBase.Load
        _navigationService = New NavigationService(Me.panelContainer)
        
        ' åˆæœŸç”»é¢è¡¨ç¤º
        _navigationService.NavigateTo(Of PortalControl)()
    End Sub
    
    ' ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
    Private Sub btnMaster_Click(sender As Object, e As EventArgs) Handles btnMaster.Click
        _navigationService.NavigateTo(Of MasterListControl)()
    End Sub
    
    Private Sub btnTrace_Click(sender As Object, e As EventArgs) Handles btnTrace.Click
        _navigationService.NavigateTo(Of TraceMainControl)()
    End Sub
    
End Class
```

### ä¾å­˜æ€§æ³¨å…¥ï¼ˆDIï¼‰ã®å®Ÿè£…

#### ServiceContainerï¼ˆã‚·ãƒ³ãƒ—ãƒ«ãªDIã‚³ãƒ³ãƒ†ãƒŠï¼‰

```vb
' TraceSystem.Shared/Infrastructure/DependencyInjection/ServiceContainer.vb
Namespace TraceSystem.Shared.Infrastructure.DependencyInjection

    Public Class ServiceContainer
        Private Shared _instance As ServiceContainer
        Private ReadOnly _services As New Dictionary(Of Type, Object)
        
        Public Shared ReadOnly Property Instance As ServiceContainer
            Get
                If _instance Is Nothing Then
                    _instance = New ServiceContainer()
                End If
                Return _instance
            End Get
        End Property
        
        ''' <summary>
        ''' ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç™»éŒ²
        ''' </summary>
        Public Sub Register(Of TInterface, TImplementation As TInterface)()
            _services(GetType(TInterface)) = Activator.CreateInstance(Of TImplementation)()
        End Sub
        
        ''' <summary>
        ''' ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç™»éŒ²ï¼ˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æŒ‡å®šï¼‰
        ''' </summary>
        Public Sub Register(Of TInterface)(instance As TInterface)
            _services(GetType(TInterface)) = instance
        End Sub
        
        ''' <summary>
        ''' ã‚µãƒ¼ãƒ“ã‚¹ã‚’å–å¾—
        ''' </summary>
        Public Function Resolve(Of TInterface)() As TInterface
            If _services.ContainsKey(GetType(TInterface)) Then
                Return DirectCast(_services(GetType(TInterface)), TInterface)
            End If
            
            Throw New InvalidOperationException(
                $"Service {GetType(TInterface).Name} is not registered.")
        End Function
        
    End Class
    
End Namespace
```

#### ServiceRegistrationï¼ˆã‚µãƒ¼ãƒ“ã‚¹ç™»éŒ²ã®é›†ç´„ï¼‰

```vb
' TraceSystem.Desktop/Common/DependencyInjection/ServiceRegistration.vb
Imports TraceSystem.Shared.Infrastructure.DependencyInjection
Imports TraceSystem.Desktop.Common.Infrastructure
Imports TraceSystem.Desktop.Features.Master.Business.Services
Imports TraceSystem.Desktop.Features.Master.Data.Repositories

Namespace TraceSystem.Desktop.Common.DependencyInjection

    Public Class ServiceRegistration
        
        ''' <summary>
        ''' ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç™»éŒ²
        ''' </summary>
        Public Shared Sub RegisterAll()
            Dim container = ServiceContainer.Instance
            
            RegisterInfrastructure(container)
            RegisterMasterServices(container)
            RegisterTraceServices(container)
            RegisterPortalServices(container)
        End Sub
        
        Private Shared Sub RegisterInfrastructure(container As ServiceContainer)
            ' DBæ¥ç¶šãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼
            Dim connectionString = ConfigurationManager.ConnectionStrings("Oracle").ConnectionString
            container.Register(Of OracleConnectionFactory)(
                New OracleConnectionFactory(connectionString))
        End Sub
        
        Private Shared Sub RegisterMasterServices(container As ServiceContainer)
            ' Repository
            container.Register(Of IMasterRepository, MasterRepository)()
            
            ' Service
            Dim repository = container.Resolve(Of IMasterRepository)()
            Dim validator = New MasterValidator()
            container.Register(Of IMasterService)(
                New MasterService(repository, validator))
        End Sub
        
        Private Shared Sub RegisterTraceServices(container As ServiceContainer)
            container.Register(Of ITraceRepository, TraceRepository)()
            
            Dim repository = container.Resolve(Of ITraceRepository)()
            Dim validator = New TraceValidator()
            container.Register(Of ITraceService)(
                New TraceService(repository, validator))
        End Sub
        
        Private Shared Sub RegisterPortalServices(container As ServiceContainer)
            container.Register(Of DashboardService)(New DashboardService())
        End Sub
        
    End Class
    
End Namespace
```

#### Program.vbï¼ˆèµ·å‹•å‡¦ç†ï¼‰

```vb
Imports TraceSystem.Desktop.Common.DependencyInjection

Module Program
    
    <STAThread>
    Sub Main()
        Application.EnableVisualStyles()
        Application.SetCompatibleTextRenderingDefault(False)
        
        ' ã‚µãƒ¼ãƒ“ã‚¹ç™»éŒ²
        ServiceRegistration.RegisterAll()
        
        ' ãƒ¡ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ èµ·å‹•
        Application.Run(New MainForm())
    End Sub
    
End Module
```

### Repository ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿè£…

#### ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©

```vb
' TraceSystem.Desktop/Features/Master/Data/Repositories/IMasterRepository.vb
Namespace TraceSystem.Desktop.Features.Master.Data.Repositories

    Public Interface IMasterRepository
        Function GetAll() As List(Of Master)
        Function GetById(id As Integer) As Master
        Function Insert(entity As Master) As Boolean
        Function Update(entity As Master) As Boolean
        Function Delete(id As Integer) As Boolean
    End Interface
    
End Namespace
```

#### Repository å®Ÿè£…

```vb
' TraceSystem.Desktop/Features/Master/Data/Repositories/MasterRepository.vb
Imports Oracle.ManagedDataAccess.Client
Imports TraceSystem.Desktop.Features.Master.Models.Entities
Imports TraceSystem.Desktop.Common.Infrastructure

Namespace TraceSystem.Desktop.Features.Master.Data.Repositories

    Public Class MasterRepository
        Implements IMasterRepository
        
        Private ReadOnly _connectionFactory As OracleConnectionFactory
        
        Public Sub New(connectionFactory As OracleConnectionFactory)
            _connectionFactory = connectionFactory
        End Sub
        
        Public Function GetAll() As List(Of Master) Implements IMasterRepository.GetAll
            Dim result As New List(Of Master)
            
            Using conn = _connectionFactory.CreateConnection()
                conn.Open()
                Using cmd As New OracleCommand(MasterQueries.SelectAll, conn)
                    Using reader = cmd.ExecuteReader()
                        While reader.Read()
                            result.Add(MapToEntity(reader))
                        End While
                    End Using
                End Using
            End Using
            
            Return result
        End Function
        
        Public Function GetById(id As Integer) As Master Implements IMasterRepository.GetById
            Using conn = _connectionFactory.CreateConnection()
                conn.Open()
                Using cmd As New OracleCommand(MasterQueries.SelectById, conn)
                    cmd.Parameters.Add("ID", OracleDbType.Int32).Value = id
                    
                    Using reader = cmd.ExecuteReader()
                        If reader.Read() Then
                            Return MapToEntity(reader)
                        End If
                    End Using
                End Using
            End Using
            
            Return Nothing
        End Function
        
        Private Function MapToEntity(reader As OracleDataReader) As Master
            Return New Master With {
                .Id = Convert.ToInt32(reader("ID")),
                .Name = reader("NAME").ToString(),
                .Description = reader("DESCRIPTION").ToString(),
                .CreatedAt = Convert.ToDateTime(reader("CREATED_AT")),
                .UpdatedAt = Convert.ToDateTime(reader("UPDATED_AT"))
            }
        End Function
        
        ' Insert, Update, Delete ã®å®Ÿè£…...
        
    End Class
    
End Namespace
```

#### SQL ã‚¯ã‚¨ãƒªç®¡ç†

```vb
' TraceSystem.Desktop/Features/Master/Data/Queries/MasterQueries.vb
Namespace TraceSystem.Desktop.Features.Master.Data.Queries

    Public Class MasterQueries
        
        Public Const SelectAll As String = "
            SELECT 
                ID,
                NAME,
                DESCRIPTION,
                CREATED_AT,
                UPDATED_AT
            FROM 
                MASTER
            ORDER BY 
                ID
        "
        
        Public Const SelectById As String = "
            SELECT 
                ID,
                NAME,
                DESCRIPTION,
                CREATED_AT,
                UPDATED_AT
            FROM 
                MASTER
            WHERE 
                ID = :ID
        "
        
        Public Const Insert As String = "
            INSERT INTO MASTER (
                NAME,
                DESCRIPTION,
                CREATED_AT,
                UPDATED_AT
            ) VALUES (
                :NAME,
                :DESCRIPTION,
                SYSDATE,
                SYSDATE
            )
        "
        
        ' ãã®ä»–ã®ã‚¯ã‚¨ãƒª...
        
    End Class
    
End Namespace
```

### Service å±¤ã®å®Ÿè£…

```vb
' TraceSystem.Desktop/Features/Master/Business/Services/MasterService.vb
Imports TraceSystem.Desktop.Features.Master.Data.Repositories
Imports TraceSystem.Desktop.Features.Master.Models.Entities
Imports TraceSystem.Desktop.Features.Master.Models.DTOs
Imports TraceSystem.Desktop.Features.Master.Business.Validators

Namespace TraceSystem.Desktop.Features.Master.Business.Services

    Public Class MasterService
        Implements IMasterService
        
        Private ReadOnly _repository As IMasterRepository
        Private ReadOnly _validator As MasterValidator
        
        Public Sub New(repository As IMasterRepository, validator As MasterValidator)
            _repository = repository
            _validator = validator
        End Sub
        
        Public Function GetAllMasters() As List(Of MasterListDto) _
            Implements IMasterService.GetAllMasters
            
            Dim entities = _repository.GetAll()
            Return entities.Select(Function(e) New MasterListDto With {
                .Id = e.Id,
                .Name = e.Name,
                .Description = e.Description
            }).ToList()
        End Function
        
        Public Function SaveMaster(dto As MasterEditDto) As OperationResult _
            Implements IMasterService.SaveMaster
            
            ' ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
            Dim validationResult = _validator.Validate(dto)
            If Not validationResult.IsValid Then
                Return OperationResult.Failure(validationResult.ErrorMessage)
            End If
            
            ' ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«å¤‰æ›
            Dim entity = New Master With {
                .Id = dto.Id,
                .Name = dto.Name,
                .Description = dto.Description
            }
            
            ' ä¿å­˜
            Dim success = If(entity.Id = 0,
                _repository.Insert(entity),
                _repository.Update(entity))
            
            Return If(success,
                OperationResult.Success("ä¿å­˜ã—ã¾ã—ãŸ"),
                OperationResult.Failure("ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ"))
        End Function
        
    End Class
    
End Namespace
```

### UserControl ã®å®Ÿè£…

```vb
' TraceSystem.Desktop/Features/Master/UI/MasterListControl.vb
Imports TraceSystem.Shared.Controls.Base
Imports TraceSystem.Shared.Infrastructure.DependencyInjection
Imports TraceSystem.Desktop.Features.Master.Business.Services
Imports TraceSystem.Desktop.Common.Navigation

Public Class MasterListControl
    Inherits BaseUserControl
    
    Private _service As IMasterService
    Private _navigationService As INavigationService
    
    Public Sub New()
        MyBase.New()
        InitializeComponent()
        
        ' DIã‚³ãƒ³ãƒ†ãƒŠã‹ã‚‰ã‚µãƒ¼ãƒ“ã‚¹å–å¾—
        _service = ServiceContainer.Instance.Resolve(Of IMasterService)()
        _navigationService = ServiceContainer.Instance.Resolve(Of INavigationService)()
    End Sub
    
    Protected Overrides Sub LoadData()
        Try
            Dim masters = _service.GetAllMasters()
            dgvMasterList.DataSource = masters
        Catch ex As Exception
            MessageBox.Show($"ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ: {ex.Message}",
                          "ã‚¨ãƒ©ãƒ¼", MessageBoxButtons.OK, MessageBoxIcon.Error)
        End Try
    End Sub
    
    Private Sub btnNew_Click(sender As Object, e As EventArgs) Handles btnNew.Click
        ' æ–°è¦ä½œæˆç”»é¢ã¸é·ç§»
        _navigationService.NavigateTo(Of MasterEditControl)()
    End Sub
    
    Private Sub btnEdit_Click(sender As Object, e As EventArgs) Handles btnEdit.Click
        If dgvMasterList.SelectedRows.Count = 0 Then
            MessageBox.Show("ç·¨é›†ã™ã‚‹è¡Œã‚’é¸æŠã—ã¦ãã ã•ã„")
            Return
        End If
        
        Dim selectedId = CInt(dgvMasterList.SelectedRows(0).Cells("Id").Value)
        
        ' ç·¨é›†ç”»é¢ã¸é·ç§»ï¼ˆIDã‚’æ¸¡ã™ï¼‰
        _navigationService.NavigateTo(Of MasterEditControl)(
            Sub(ctrl) ctrl.LoadMaster(selectedId))
    End Sub
    
End Class
```

---

## æ–°äººæ•™è‚²ãƒ‘ã‚¹

### å­¦ç¿’ãƒ•ã‚§ãƒ¼ã‚º

#### Phase 1: åŸºç¤ç†è§£ï¼ˆ1é€±ç›®ï¼‰

**ç›®æ¨™**: ãƒ‡ãƒ¼ã‚¿ã®æµã‚Œã‚’ç†è§£ã™ã‚‹

1. **Models ã‚’èª­ã‚€**
   - `TraceSystem.Desktop/Features/Master/Models/` é…ä¸‹
   - Entity ã¨ DTO ã®é•ã„ã‚’ç†è§£

2. **ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³ã‚’æã**
   - UserControl â†’ Service â†’ Repository â†’ DB ã®æµã‚Œ

3. **èª²é¡Œ**: æ—¢å­˜ã®ãƒã‚¹ã‚¿ä¸€è¦§ç”»é¢ã®ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚“ã§ã€ãƒ‡ãƒ¼ã‚¿ãŒã©ã†æµã‚Œã¦ã„ã‚‹ã‹èª¬æ˜ã™ã‚‹

#### Phase 2: ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤ï¼ˆ2é€±ç›®ï¼‰

**ç›®æ¨™**: Repository ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç†è§£ã™ã‚‹

1. **Repository ã®å®Ÿè£…ã‚’èª­ã‚€**
   - `MasterRepository.vb` ã®ã‚³ãƒ¼ãƒ‰è§£æ
   - ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨å®Ÿè£…ã®åˆ†é›¢ã‚’ç†è§£

2. **SQL ã‚¯ã‚¨ãƒªã®ç¢ºèª**
   - `MasterQueries.vb` ã§SQLç®¡ç†æ–¹æ³•ã‚’å­¦ã¶

3. **èª²é¡Œ**: æ–°ã—ã„ãƒã‚¹ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«ç”¨ã® Repository ã‚’ä½œæˆã™ã‚‹

#### Phase 3: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å±¤ï¼ˆ3é€±ç›®ï¼‰

**ç›®æ¨™**: Serviceå±¤ã®å½¹å‰²ã‚’ç†è§£ã™ã‚‹

1. **Service ã®å®Ÿè£…ã‚’èª­ã‚€**
   - `MasterService.vb` ã®ã‚³ãƒ¼ãƒ‰è§£æ
   - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè£…ã‚’ç¢ºèª

2. **DI ã®ä»•çµ„ã¿ç†è§£**
   - `ServiceContainer.vb` ã¨ `ServiceRegistration.vb` ã‚’èª­ã‚€

3. **èª²é¡Œ**: ãƒã‚¹ã‚¿å‰Šé™¤æ©Ÿèƒ½ã‚’ Service ã«è¿½åŠ ã™ã‚‹

#### Phase 4: UIå±¤ï¼ˆ4é€±ç›®ï¼‰

**ç›®æ¨™**: UserControl ã§ã®ç”»é¢å®Ÿè£…ã‚’ç†è§£ã™ã‚‹

1. **æ—¢å­˜ç”»é¢ã®è§£æ**
   - `MasterListControl.vb` ã®ã‚³ãƒ¼ãƒ‰è§£æ
   - `BaseUserControl` ã®ç¶™æ‰¿é–¢ä¿‚ã‚’ç†è§£

2. **ç”»é¢é·ç§»ã®ç†è§£**
   - `NavigationService` ã®ä»•çµ„ã¿

3. **èª²é¡Œ**: ãƒã‚¹ã‚¿å‰Šé™¤ç”»é¢ã‚’è¿½åŠ ã™ã‚‹

#### Phase 5: çµ±åˆï¼ˆ5é€±ç›®ä»¥é™ï¼‰

**ç›®æ¨™**: 1ã¤ã®æ©Ÿèƒ½ã‚’æœ€åˆã‹ã‚‰æœ€å¾Œã¾ã§å®Ÿè£…ã™ã‚‹

1. **æ–°æ©Ÿèƒ½ã®è¨­è¨ˆ**
   - è¦ä»¶å®šç¾©ã‹ã‚‰è¨­è¨ˆã¾ã§

2. **å®Ÿè£…**
   - Models â†’ Data â†’ Business â†’ UI ã®é †ã§å®Ÿè£…

3. **èª²é¡Œ**: ãƒˆãƒ¬ãƒ¼ã‚¹æ©Ÿèƒ½ã®ä¸€éƒ¨ã‚’æ‹…å½“ã—ã¦å®Ÿè£…ã™ã‚‹

---

## å‚è€ƒè³‡æ–™

### ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ç”¨ã—ã¦ã„ã‚‹ä¸»è¦ãªãƒ‘ã‚¿ãƒ¼ãƒ³:

- **Repository ãƒ‘ã‚¿ãƒ¼ãƒ³**: ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ã®æŠ½è±¡åŒ–
- **Service ãƒ‘ã‚¿ãƒ¼ãƒ³**: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã®é›†ç´„
- **Dependency Injection**: ä¾å­˜æ€§ã®æ³¨å…¥
- **DTO ãƒ‘ã‚¿ãƒ¼ãƒ³**: ãƒ¬ã‚¤ãƒ¤ãƒ¼é–“ã®ãƒ‡ãƒ¼ã‚¿è»¢é€

### æ¨å¥¨ãƒªã‚½ãƒ¼ã‚¹

- [Microsoft VB.NET ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.microsoft.com/ja-jp/dotnet/visual-basic/)
- [Oracle Data Provider for .NET](https://www.oracle.com/database/technologies/appdev/dotnet/odp.html)

---

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ [ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å] ã®ä¸‹ã§ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã•ã‚Œã¦ã„ã¾ã™ã€‚

---

## è²¢çŒ®

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®è²¢çŒ®æ–¹æ³•ã«ã¤ã„ã¦ã¯ [CONTRIBUTING.md](CONTRIBUTING.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

**æœ€çµ‚æ›´æ–°**: 2025å¹´11æœˆ15æ—¥